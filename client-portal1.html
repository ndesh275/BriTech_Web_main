<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BriTech Prime - Client Portal</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    
    
<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
  import { 
    getAuth, 
    signInWithPopup, 
    GoogleAuthProvider, 
    GithubAuthProvider,
    OAuthProvider,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    onAuthStateChanged,
    signOut
  } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';
  import { getFirestore, doc, setDoc, getDoc } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js';

  // Your Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAAeN54kvNiDlsK3dSQRewnX7NuwOWQxiE",
    authDomain: "britech-web.firebaseapp.com",
    projectId: "britech-web",
    storageBucket: "britech-web.firebasestorage.app",
    messagingSenderId: "99699196886",
    appId: "1:99699196886:web:60c41c5de1a0d4fdff5a77",
    measurementId: "G-PLY3W7WX9M"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Initialize providers
  const googleProvider = new GoogleAuthProvider();
  const githubProvider = new GithubAuthProvider();
  const microsoftProvider = new OAuthProvider('microsoft.com');

  // Configure providers
  googleProvider.addScope('profile');
  googleProvider.addScope('email');
  githubProvider.addScope('user:email');

  // Function to generate unique client ID
async function generateClientId() {
  try {
    const counterDoc = await getDoc(doc(db, 'counters', 'clientId'));
    let nextId = 1000; // Start from BRI1000

    if (counterDoc.exists()) {
      nextId = counterDoc.data().current + 1;
    }

    // Update the counter
    await setDoc(doc(db, 'counters', 'clientId'), { current: nextId });
    
    return `BRI${nextId}`;
  } catch (error) {
    console.error('Error generating client ID:', error);
    return `BRI${Date.now()}`; // Fallback
  }
}

  // Add CSS for form centering and styling
  function addFormStyles() {
    if (!document.querySelector('#auth-form-styles')) {
      const styles = document.createElement('style');
      styles.id = 'auth-form-styles';
      styles.innerHTML = `
        /* Center the login screen */
        #loginScreen {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
          padding: 20px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* Center the form container */
        .auth-container, .login-container, .signup-container {
          max-width: 450px;
          width: 100%;
          background: white;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
          padding: 40px;
          margin: 0 auto;
        }

        /* Form styling */
        .auth-form {
          width: 100%;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-input {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #e1e5e9;
          border-radius: 8px;
          font-size: 16px;
          transition: border-color 0.3s;
          box-sizing: border-box;
        }

        .form-input:focus {
          outline: none;
          border-color: #667eea;
        }

        .auth-btn, .social-btn {
          width: 100%;
          padding: 12px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          margin-bottom: 10px;
        }

        .auth-btn {
          background: #667eea;
          color: white;
        }

        .auth-btn:hover:not(:disabled) {
          background: #5a6fd8;
          transform: translateY(-1px);
        }

        .auth-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        /* Spinner styles */
        .spinner {
          display: inline-block;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(255,255,255,.3);
          border-radius: 50%;
          border-top-color: #fff;
          animation: spin 1s ease-in-out infinite;
          margin-right: 10px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        /* Link styling */
        .auth-link {
          color: #667eea;
          text-decoration: none;
          font-weight: 500;
          cursor: pointer;
        }

        .auth-link:hover {
          text-decoration: underline;
        }

        .text-center {
          text-align: center;
        }

        .mt-3 {
          margin-top: 1rem;
        }

        .mb-3 {
          margin-bottom: 1rem;
        }

        /* Hide forms initially */
        .auth-form {
          display: none;
        }

        .auth-form.active {
          display: block;
        }
      `;
      document.head.appendChild(styles);
    }
  }

  // Function to generate avatar with initials
  function generateAvatar(firstName, lastName) {
    const initials = (firstName?.charAt(0) || '') + (lastName?.charAt(0) || '');
    return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23667eea'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-family='Arial' font-size='16' font-weight='bold'%3E${initials}%3C/text%3E%3C/svg%3E`;
  }

  // Function to update user display in header
  async function updateUserDisplay(user) {
    try {
      console.log('Updating user display for:', user.email);
      
      // Get user profile from Firestore
      const userDoc = await getDoc(doc(db, 'users', user.uid));
      
      // Generate unique client ID
const clientId = await generateClientId();

// Save user profile to Firestore with complete structure
await setDoc(doc(db, 'users', userCredential.user.uid), {
  firstName: firstName,
  lastName: lastName,
  fullName: `${firstName} ${lastName}`, // Add this for profile page
  email: email,
  companyName: company, // Changed from 'company' to 'companyName'
  phone: '', // Initialize empty
  clientId: clientId, // Add client ID
  profilePicture: '', // Initialize empty
  createdAt: new Date().toISOString(),
  updatedAt: new Date().toISOString()
});
      
      if (userDoc.exists()) {
        const userData = userDoc.data();
        firstName = userData.firstName || '';
        lastName = userData.lastName || '';
        displayName = `${firstName} ${lastName}`.trim() || user.email;
        console.log('User data from Firestore:', userData);
      } else if (user.displayName) {
        // For social logins, use displayName from provider
        displayName = user.displayName;
        const nameParts = user.displayName.split(' ');
        firstName = nameParts[0] || '';
        lastName = nameParts[nameParts.length - 1] || '';
      } else {
        displayName = user.email;
        // Extract name from email if no other data available
        firstName = user.email.split('@')[0];
      }
      
      // Update the user name
      const userNameElement = document.querySelector('.user-name');
      if (userNameElement) {
        userNameElement.textContent = displayName;
        console.log('Updated user name to:', displayName);
      }
      
      // Update the avatar
      const avatarElement = document.querySelector('.user-avatar');
      if (avatarElement) {
        const avatarSrc = generateAvatar(firstName, lastName);
        avatarElement.src = avatarSrc;
        avatarElement.alt = displayName;
        console.log('Updated avatar with initials:', firstName.charAt(0) + lastName.charAt(0));
      }
      
      console.log('User display updated successfully:', { displayName, firstName, lastName });
      
    } catch (error) {
      console.error('Error updating user display:', error);
      // Fallback to email or displayName
      const userNameElement = document.querySelector('.user-name');
      if (userNameElement) {
        userNameElement.textContent = user.displayName || user.email || 'User';
      }
    }
  }

  // Enhanced loading function with spinner
  function showLoading(show, buttonElement = null) {
    if (buttonElement) {
      // Show spinner on specific button
      const originalText = buttonElement.getAttribute('data-original-text') || buttonElement.textContent;
      buttonElement.setAttribute('data-original-text', originalText);
      
      if (show) {
        buttonElement.disabled = true;
        buttonElement.innerHTML = `<span class="spinner"></span>Processing...`;
      } else {
        buttonElement.disabled = false;
        buttonElement.innerHTML = originalText;
      }
    } else {
      // Show loading on all auth buttons
      const buttons = document.querySelectorAll('.auth-btn, .social-btn');
      buttons.forEach(btn => {
        btn.disabled = show;
        if (show) {
          btn.style.opacity = '0.6';
          btn.style.cursor = 'not-allowed';
        } else {
          btn.style.opacity = '1';
          btn.style.cursor = 'pointer';
        }
      });
    }
  }

  // Enhanced popup message function
  function showPopup(message, type = 'info') {
    // Create popup element
    const popup = document.createElement('div');
    popup.className = `popup-message ${type}`;
    popup.innerHTML = `
      <div class="popup-content">
        <span class="popup-icon">${type === 'error' ? '❌' : type === 'success' ? '✅' : 'ℹ️'}</span>
        <span class="popup-text">${message}</span>
        <button class="popup-close" onclick="this.parentElement.parentElement.remove()">×</button>
      </div>
    `;

    // Add popup styles if not exist
    if (!document.querySelector('#popup-styles')) {
      const styles = document.createElement('style');
      styles.id = 'popup-styles';
      styles.innerHTML = `
        .popup-message {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 10000;
          max-width: 400px;
          border-radius: 8px;
          box-shadow: 0 8px 25px rgba(0,0,0,0.15);
          animation: slideInRight 0.4s ease;
        }
        
        .popup-message.success {
          background: #d4edda;
          border: 1px solid #c3e6cb;
          color: #155724;
        }
        
        .popup-message.error {
          background: #f8d7da;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }
        
        .popup-message.info {
          background: #d1ecf1;
          border: 1px solid #bee5eb;
          color: #0c5460;
        }
        
        .popup-content {
          display: flex;
          align-items: center;
          padding: 16px 20px;
          gap: 12px;
        }
        
        .popup-icon {
          font-size: 20px;
          flex-shrink: 0;
        }
        
        .popup-text {
          flex: 1;
          font-weight: 500;
          line-height: 1.4;
        }
        
        .popup-close {
          background: none;
          border: none;
          font-size: 22px;
          cursor: pointer;
          padding: 0;
          color: inherit;
          opacity: 0.7;
          transition: opacity 0.2s;
        }
        
        .popup-close:hover {
          opacity: 1;
        }
        
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `;
      document.head.appendChild(styles);
    }

    document.body.appendChild(popup);

    // Auto remove after 6 seconds
    setTimeout(() => {
      if (popup.parentElement) {
        popup.style.animation = 'slideInRight 0.4s ease reverse';
        setTimeout(() => popup.remove(), 400);
      }
    }, 6000);
  }

  // Function to switch between login and signup forms
  function switchToLoginForm() {
    const loginForm = document.getElementById('loginForm') || document.querySelector('.login-form');
    const signupForm = document.getElementById('signupForm') || document.querySelector('.signup-form');
    
    if (loginForm && signupForm) {
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
      console.log('Switched to login form');
    }
  }

  function switchToSignupForm() {
    const loginForm = document.getElementById('loginForm') || document.querySelector('.login-form');
    const signupForm = document.getElementById('signupForm') || document.querySelector('.signup-form');
    
    if (loginForm && signupForm) {
      signupForm.classList.add('active');
      loginForm.classList.remove('active');
      console.log('Switched to signup form');
    }
  }

  // Enhanced authentication success handler
  function handleAuthSuccess(user, isLogin = true) {
    console.log('User authenticated:', user);
    
    if (isLogin) {
      // For login - show success message and go to dashboard
      showPopup(`Welcome back, ${user.displayName || user.email}!`, 'success');
      setTimeout(() => {
        showDashboard();
      }, 1500);
    } else {
      // For signup - show success message and redirect to login
      showPopup('Account created successfully! Please sign in with your credentials.', 'success');
      setTimeout(async () => {
        try {
          // Sign out the user so they have to log in
          await signOut(auth);
          // Switch to login form
          switchToLoginForm();
        } catch (error) {
          console.error('Error signing out after signup:', error);
          // If signout fails, still redirect to login
          switchToLoginForm();
        }
      }, 3000);
    }
  }

  // Social Sign-in Functions
  window.signInWithGoogle = async function() {
    const button = event?.target;
    try {
      showLoading(true, button);
      const result = await signInWithPopup(auth, googleProvider);
      handleAuthSuccess(result.user, true);
    } catch (error) {
      console.error('Google sign-in error:', error);
      let errorMessage = 'Google sign-in failed';
      
      if (error.code === 'auth/unauthorized-domain') {
        errorMessage = 'This domain is not authorized. Please contact support.';
      } else if (error.code === 'auth/popup-closed-by-user') {
        errorMessage = 'Sign-in was cancelled.';
      } else if (error.code === 'auth/popup-blocked') {
        errorMessage = 'Popup was blocked. Please allow popups for this site.';
      }
      
      showPopup(errorMessage, 'error');
    } finally {
      showLoading(false, button);
    }
  };

  window.signInWithGitHub = async function() {
    const button = event?.target;
    try {
      showLoading(true, button);
      const result = await signInWithPopup(auth, githubProvider);
      handleAuthSuccess(result.user, true);
    } catch (error) {
      console.error('GitHub sign-in error:', error);
      let errorMessage = 'GitHub sign-in failed';
      
      if (error.code === 'auth/account-exists-with-different-credential') {
        errorMessage = 'An account with this email already exists with a different sign-in method.';
      } else if (error.code === 'auth/popup-closed-by-user') {
        errorMessage = 'Sign-in was cancelled.';
      }
      
      showPopup(errorMessage, 'error');
    } finally {
      showLoading(false, button);
    }
  };

  window.signInWithMicrosoft = async function() {
    const button = event?.target;
    try {
      showLoading(true, button);
      const result = await signInWithPopup(auth, microsoftProvider);
      handleAuthSuccess(result.user, true);
    } catch (error) {
      console.error('Microsoft sign-in error:', error);
      let errorMessage = 'Microsoft sign-in failed';
      
      if (error.code === 'auth/popup-closed-by-user') {
        errorMessage = 'Sign-in was cancelled.';
      }
      
      showPopup(errorMessage, 'error');
    } finally {
      showLoading(false, button);
    }
  };

  window.signInWithApple = function() {
    showPopup('Apple Sign-in requires additional setup in Firebase Console', 'info');
  };

  // Enhanced email/password login
  window.handleLogin = async function(event) {
    event.preventDefault();
    const submitButton = event.target.querySelector('button[type="submit"]');
    const email = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value;

    if (!email || !password) {
      showPopup('Please fill in all fields', 'error');
      return;
    }

    if (!email.includes('@')) {
      showPopup('Please enter a valid email address', 'error');
      return;
    }

    try {
      showLoading(true, submitButton);
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      handleAuthSuccess(userCredential.user, true);
    } catch (error) {
      console.error('Login error:', error);
      let errorMessage = 'Login failed';
      let showCreateAccountOption = false;
      
      switch (error.code) {
        case 'auth/user-not-found':
          errorMessage = 'No account found with this email address.';
          showCreateAccountOption = true;
          break;
        case 'auth/wrong-password':
        case 'auth/invalid-credential':
          errorMessage = 'Invalid email or password. Please check your credentials.';
          showCreateAccountOption = true;
          break;
        case 'auth/invalid-email':
          errorMessage = 'Invalid email address';
          break;
        case 'auth/user-disabled':
          errorMessage = 'This account has been disabled';
          break;
        case 'auth/too-many-requests':
          errorMessage = 'Too many failed attempts. Please try again later';
          break;
        default:
          errorMessage = 'Login failed: ' + error.message;
      }
      
      showPopup(errorMessage, 'error');
      
      // Show create account option for certain errors
      if (showCreateAccountOption) {
        setTimeout(() => {
          showPopup('Don\'t have an account? <span class="auth-link" onclick="switchToSignupForm()">Create one here</span>', 'info');
        }, 2000);
      }
    } finally {
      showLoading(false, submitButton);
    }
  };

  // Enhanced signup function
  window.handleSignup = async function(event) {
    event.preventDefault();
    const form = event.target;
    const submitButton = form.querySelector('button[type="submit"]');
    const firstName = form.querySelector('input[placeholder*="First"], input[name="firstName"]').value.trim();
    const lastName = form.querySelector('input[placeholder*="Last"], input[name="lastName"]').value.trim();
    const email = form.querySelector('input[type="email"]').value.trim();
    const company = form.querySelector('input[placeholder*="Company"], input[name="company"]').value.trim();
    const password = form.querySelector('input[placeholder*="Password"]:not([placeholder*="Confirm"])').value;
    const confirmPassword = form.querySelector('input[placeholder*="Confirm"]').value;
    const termsAccepted = form.querySelector('input[type="checkbox"]').checked;

    // Validation
    if (!firstName || !lastName || !email || !company || !password || !confirmPassword) {
      showPopup('Please fill in all fields', 'error');
      return;
    }

    if (!termsAccepted) {
      showPopup('Please accept the Terms & Conditions', 'error');
      return;
    }

    if (password !== confirmPassword) {
      showPopup('Passwords do not match', 'error');
      return;
    }

    if (password.length < 6) {
      showPopup('Password must be at least 6 characters long', 'error');
      return;
    }

    try {
      showLoading(true, submitButton);
      
      // Add a small delay to show the spinner
      await new Promise(resolve => setTimeout(resolve, 1500));
      
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      
      // Save user profile to Firestore
      await setDoc(doc(db, 'users', userCredential.user.uid), {
        firstName: firstName,
        lastName: lastName,
        email: email,
        company: company,
        createdAt: new Date()
      });
      
      console.log('New user data saved to Firestore:', { firstName, lastName, company, email });
      
      // Clear form
      form.reset();
      
      // Handle successful signup
      handleAuthSuccess(userCredential.user, false);
    } catch (error) {
      console.error('Signup error:', error);
      let errorMessage = 'Signup failed';
      
      switch (error.code) {
        case 'auth/email-already-in-use':
          errorMessage = 'An account with this email already exists.';
          showPopup(errorMessage, 'error');
          setTimeout(() => {
            showPopup('Please <span class="auth-link" onclick="switchToLoginForm()">sign in instead</span>', 'info');
          }, 2000);
          return;
        case 'auth/invalid-email':
          errorMessage = 'Invalid email address';
          break;
        case 'auth/weak-password':
          errorMessage = 'Password is too weak. Please use at least 6 characters.';
          break;
        default:
          errorMessage = 'Signup failed: ' + error.message;
      }
      
      showPopup(errorMessage, 'error');
    } finally {
      showLoading(false, submitButton);
    }
  };

  // Function to show dashboard and hide login
  function showDashboard() {
    const loginScreen = document.getElementById('loginScreen');
    if (loginScreen) {
      loginScreen.style.display = 'none';
    }
    
    const portalScreen = document.getElementById('portalScreen');
    if (portalScreen) {
      portalScreen.style.display = 'block';
      console.log('Switched to dashboard (portalScreen)');
    }
    
    if (auth.currentUser) {
      updateUserDisplay(auth.currentUser);
    }
  }

  // Function to show login and hide dashboard  
  function showAuthScreen() {
    const loginScreen = document.getElementById('loginScreen');
    if (loginScreen) {
      loginScreen.style.display = 'flex'; // Use flex for centering
      console.log('Switched to login screen');
    }
    
    const portalScreen = document.getElementById('portalScreen');
    if (portalScreen) {
      portalScreen.style.display = 'none';
    }
    
    // Initialize form styles
    addFormStyles();
    
    // Ensure first form is active
    setTimeout(() => {
      const loginForm = document.getElementById('loginForm') || document.querySelector('.login-form');
      const signupForm = document.getElementById('signupForm') || document.querySelector('.signup-form');
      
      if (loginForm && !loginForm.classList.contains('active') && 
          signupForm && !signupForm.classList.contains('active')) {
        loginForm.classList.add('active');
      }
    }, 100);
  }

  // Auth state listener
  let initialAuthCheck = true;
  onAuthStateChanged(auth, (user) => {
    if (user && initialAuthCheck) {
      console.log('User is already signed in:', user);
      setTimeout(() => {
        showDashboard();
      }, 1000);
    } else if (user && !initialAuthCheck) {
      console.log('User state changed:', user);
      updateUserDisplay(user);
    } else if (!user) {
      console.log('User is signed out');
      showAuthScreen();
    }
    initialAuthCheck = false;
  });

  // Logout function
  window.logout = async function() {
    try {
      await signOut(auth);
      showPopup('Signed out successfully', 'success');
      setTimeout(() => {
        showAuthScreen();
      }, 1000);
    } catch (error) {
      console.error('Sign out error:', error);
      showPopup('Error signing out', 'error');
    }
  };

  // Export functions for global access
  window.switchToLoginForm = switchToLoginForm;
  window.switchToSignupForm = switchToSignupForm;
  window.signOutUser = window.logout;
  window.showLogin = showAuthScreen;

  // Initialize on load
  document.addEventListener('DOMContentLoaded', () => {
    addFormStyles();
    console.log('Firebase authentication system initialized');
  });

  // Debug info
  console.log('Firebase initialized successfully');
  console.log('Project ID:', firebaseConfig.projectId);
  console.log('Auth domain:', firebaseConfig.authDomain);



  // In your social sign-in functions, after handleAuthSuccess, add:
// Check if user profile exists, if not create it
const userDoc = await getDoc(doc(db, 'users', result.user.uid));
if (!userDoc.exists()) {
  const nameParts = result.user.displayName?.split(' ') || ['', ''];
  const firstName = nameParts[0] || '';
  const lastName = nameParts.slice(1).join(' ') || '';
  
  const clientId = await generateClientId();
  
  await setDoc(doc(db, 'users', result.user.uid), {
    firstName: firstName,
    lastName: lastName,
    fullName: result.user.displayName || `${firstName} ${lastName}`,
    email: result.user.email,
    companyName: '', // They can fill this later
    phone: '',
    clientId: clientId,
    profilePicture: result.user.photoURL || '',
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString()
  });
}

</script>


</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <div class="logo-center">
                <img src="app-icon.jpeg" alt="BriTech Logo" class="logo">
            
            </div>

                <h1>BriTech Prime</h1>
                <p>Client Portal</p>
            </div>
            
            <div class="login-tabs">
                <button class="tab-btn active" onclick="showLogin()">Login</button>
                <button class="tab-btn" onclick="showSignup()">Sign Up</button>
            </div>

            <style>
                /* Centered Logo at top */
                .logo-center {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                margin-top: 40px;
                text-align: center;
                }

                .logo-center img {
                height: 80px;   /* bigger logo */
                width: 80px;
                border-radius: 20px;
                box-shadow: 0 6px 18px rgba(106, 17, 203, 0.5);
                margin-bottom: 12px;
                }

                .logo-center .brand-name {
                font-family: 'Poppins', sans-serif;
                font-size: 28px;
                font-weight: 700;
                color: #1f2d3d;
                }

                .logo-center .brand-name .prime {
                background: linear-gradient(135deg, #6a11cb, #2575fc);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                }

            </style>
            <!-- Login Form -->
            <form id="loginForm" class="auth-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="rememberMe">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>
                <button type="submit" class="auth-btn">Login</button>


              <div class="social-buttons">
    <button type="button" class="social-btn google-btn" onclick="signInWithGoogle()">
        <i class="fab fa-google"></i>
        <span>Google</span>
    </button>
    <button type="button" class="social-btn apple-btn" onclick="signInWithApple()">
        <i class="fab fa-apple"></i>
        <span>Apple</span>
    </button>
    <button type="button" class="social-btn github-btn" onclick="signInWithGitHub()">
        <i class="fab fa-github"></i>
        <span>GitHub</span>
    </button>
    <button type="button" class="social-btn microsoft-btn" onclick="signInWithMicrosoft()">
        <i class="fab fa-microsoft"></i>
        <span>Microsoft</span>
    </button>
</div>

<!-- CSS Styles - Add this to your existing <style> section -->
<style>
/* Social Sign-in Styles */
.social-divider {
    display: flex;
    align-items: center;
    margin: 20px 0;
    color: #64748b;
    font-size: 14px;
}

.social-divider::before,
.social-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: #e2e8f0;
}

.social-divider span {
    padding: 0 16px;
    background: white;
}

.social-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
}

.social-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border: 1.5px solid #e2e8f0;
    border-radius: 8px;
    background: white;
    color: #374151;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.social-btn:hover {
    border-color: #cbd5e1;
    background: #f8fafc;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.social-btn:active {
    transform: translateY(0);
}

.social-btn i {
    font-size: 16px;
}

/* Individual social button colors */
.google-btn:hover {
    border-color: #ea4335;
    color: #ea4335;
}

.apple-btn:hover {
    border-color: #000000;
    color: #000000;
}

.github-btn:hover {
    border-color: #333333;
    color: #333333;
}

.microsoft-btn:hover {
    border-color: #0078d4;
    color: #0078d4;
}

/* Responsive adjustments */
@media (max-width: 480px) {
    .social-buttons {
        grid-template-columns: 1fr;
    }
    
    .social-btn {
        padding: 14px 16px;
    }
}
</style>
            </form>

            <!-- Signup Form -->
            <form id="signupForm" class="auth-form" style="display: none;" onsubmit="handleSignup(event)">
                <div class="form-row">
                    <div class="form-group">
                        <i class="fas fa-user"></i>
                        <input type="text" placeholder="First Name" required>
                    </div>
                    <div class="form-group">
                        <i class="fas fa-user"></i>
                        <input type="text" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="form-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" placeholder="Email Address" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-building"></i>
                    <input type="text" placeholder="Company Name" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" placeholder="Confirm Password" required>
                </div>
                <label class="checkbox-container">
                    <input type="checkbox" required>
                    <span class="checkmark"></span>
                    I agree to the <a href="#">Terms & Conditions</a>
                </label>
                <button type="submit" class="auth-btn">Create Account</button>
                 <!-- Social Sign-in Section - Add this AFTER the auth-btn button in both login and signup forms -->
<div class="social-buttons">
    <button type="button" class="social-btn google-btn" onclick="signInWithGoogle()">
        <i class="fab fa-google"></i>
        <span>Google</span>
    </button>
    <button type="button" class="social-btn apple-btn" onclick="signInWithApple()">
        <i class="fab fa-apple"></i>
        <span>Apple</span>
    </button>
    <button type="button" class="social-btn github-btn" onclick="signInWithGitHub()">
        <i class="fab fa-github"></i>
        <span>GitHub</span>
    </button>
    <button type="button" class="social-btn microsoft-btn" onclick="signInWithMicrosoft()">
        <i class="fab fa-microsoft"></i>
        <span>Microsoft</span>
    </button>
</div>

<!-- CSS Styles - Add this to your existing <style> section -->
<style>
/* Social Sign-in Styles */
.social-divider {
    display: flex;
    align-items: center;
    margin: 20px 0;
    color: #64748b;
    font-size: 14px;
}

.social-divider::before,
.social-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: #e2e8f0;
}

.social-divider span {
    padding: 0 16px;
    background: white;
}

.social-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
}

.social-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border: 1.5px solid #e2e8f0;
    border-radius: 8px;
    background: white;
    color: #374151;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.social-btn:hover {
    border-color: #cbd5e1;
    background: #f8fafc;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.social-btn:active {
    transform: translateY(0);
}

.social-btn i {
    font-size: 16px;
}

/* Individual social button colors */
.google-btn:hover {
    border-color: #ea4335;
    color: #ea4335;
}

.apple-btn:hover {
    border-color: #000000;
    color: #000000;
}

.github-btn:hover {
    border-color: #333333;
    color: #333333;
}

.microsoft-btn:hover {
    border-color: #0078d4;
    color: #0078d4;
}

/* Responsive adjustments */
@media (max-width: 480px) {
    .social-buttons {
        grid-template-columns: 1fr;
    }
    
    .social-btn {
        padding: 14px 16px;
    }
}
</style>
            </form>
        </div>
       

    </div>

    <!-- Portal Dashboard -->
    <div id="portalScreen" class="portal-container" style="display: none;">
        <!-- Header -->
        <header class="portal-header">
          
            
            <div class="header-left">

                <div class="logo-left">
                    <img src="app-icon.jpeg" alt="BriTech Logo" class="logo">
            
                </div>

                
                <h1>BriTech Prime</h1>
                <span class="portal-tag">Client Portal</span>
            </div>

            <style>
                /* Left Logo for navbar */
                .logo-left {
                display: flex;
                align-items: center;
                gap: 12px;
                }

                .logo-left img {
                height: 42px;
                width: 42px;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(106, 17, 203, 0.4);
                }

                .logo-left .brand-name {
                font-family: 'Poppins', sans-serif;
                font-size: 22px;
                font-weight: 700;
                color: #1f2d3d;
                }

                .logo-left .brand-name .prime {
                background: linear-gradient(135deg, #6a11cb, #2575fc);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                }


                /* newer part */

                .header-left {
                display: flex;
                align-items: center;
                gap: 12px; /* space between logo and text */
                }

                .logo-left img {
                height: 42px;
                width: 42px;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
                }

                .header-left h1 {
                margin: 0; /* remove default h1 margin */
                color: #2c3e50;
                font-size: 1.8rem;
                background: linear-gradient(135deg, #667eea, #764ba2);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                }

                .portal-tag {
                margin-left: 8px;
                font-size: 1rem;
                color: #6c757d;
                }


            </style>
            
            <div class="header-right">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </div>
                <div class="user-menu">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23667eea'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-family='Arial' font-size='16' font-weight='bold'%3EA%3C/text%3E%3C/svg%3E" alt="Admin" class="user-avatar">
                    <span class="user-name">Admin User</span>
                    <i class="fas fa-chevron-down"></i>
                    <div class="dropdown-menu">
                        <a href="client-portal-profile.html"><i class="fas fa-user"></i> Profile</a>
                        <a href="#"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </header>

        <div class="portal-main">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="services">
                        <i class="fas fa-cogs"></i>
                        <span>Services</span>
                    </a>
                    <a href="#" class="nav-item" data-section="projects">
                        <i class="fas fa-project-diagram"></i>
                        <span>Projects</span>
                    </a>
                    <a href="#" class="nav-item" data-section="consultation">
                        <i class="fas fa-users"></i>
                        <span>Consultations</span>
                        <span class="nav-badge">1</span>
                    </a>
                    <a href="#" class="nav-item" data-section="messages">
                        <i class="fas fa-comments"></i>
                        <span>Messages</span>
                        <span class="nav-badge">2</span>
                    </a>
                    <a href="#" class="nav-item" data-section="resources">
                        <i class="fas fa-book"></i>
                        <span>Resources</span>
                    </a>
                    <a href="#" class="nav-item" data-section="documents">
                        <i class="fas fa-file-alt"></i>
                        <span>Documents</span>
                    </a>
                    <a href="#" class="nav-item" data-section="billing">
                        <i class="fas fa-credit-card"></i>
                        <span>Billing</span>
                    </a>
                    <a href="#" class="nav-item" data-section="support">
                        <i class="fas fa-life-ring"></i>
                        <span>Support</span>
                    </a>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <div class="section-header">
                        <h2>Dashboard</h2>
                        <p>Welcome back, Admin! Here's your project overview.</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-project-diagram"></i>
                            </div>
                            <div class="stat-content">
                                <h3>5</h3>
                                <p>Active Projects</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <h3>2</h3>
                                <p>Pending Tasks</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-invoice-dollar"></i>
                            </div>
                            <div class="stat-content">
                                <h3>$12,450</h3>
                                <p>Total Invoiced</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3>98%</h3>
                                <p>Completion Rate</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>Recent Projects</h3>
                            <div class="project-list">
                                <div class="project-item">
                                    <div class="project-info">
                                        <h4>E-commerce Platform</h4>
                                        <p>Phase 2: Payment Integration</p>
                                    </div>
                                    <div class="project-status in-progress">In Progress</div>
                                </div>
                                <div class="project-item">
                                    <div class="project-info">
                                        <h4>Mobile App Development</h4>
                                        <p>UI/UX Design Review</p>
                                    </div>
                                    <div class="project-status review">Under Review</div>
                                </div>
                                <div class="project-item">
                                    <div class="project-info">
                                        <h4>Website Redesign</h4>
                                        <p>Final Testing Phase</p>
                                    </div>
                                    <div class="project-status completed">Completed</div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <h3>Recent Messages</h3>
                            <div class="message-list">
                                <div class="message-item">
                                    <div class="message-avatar">
                                        <i class="fas fa-user-tie"></i>
                                    </div>
                                    <div class="message-content">
                                        <h4>Project Manager</h4>
                                        <p>Updates on the e-commerce project timeline</p>
                                        <span class="message-time">2 hours ago</span>
                                    </div>
                                </div>
                                <div class="message-item">
                                    <div class="message-avatar">
                                        <i class="fas fa-user-cog"></i>
                                    </div>
                                    <div class="message-content">
                                        <h4>Technical Team</h4>
                                        <p>Code review completed for mobile app</p>
                                        <span class="message-time">1 day ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services Section -->
                <section id="services" class="content-section">
                    <div class="section-header">
                        <h2>Our Services</h2>
                        <button class="btn-primary" onclick="openServiceRequest()">
                            <a href="get-a-free-quote.html"><i class="fas fa-plus"></i></a>
                            Request Service
                        </button>
                    </div>
                    
                    <div class="services-grid">
                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-globe"></i>
                            </div>
                            <h3>Web Application Development</h3>
                            <p>Full-stack web applications using modern technologies like React, Node.js, Python, and cloud platforms.</p>
                            <div class="service-features">
                                <span class="feature-tag">React</span>
                                <span class="feature-tag">Node.js</span>
                                <span class="feature-tag">Python</span>
                                <span class="feature-tag">Cloud</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$5,000</strong>
                            </div>
                    <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>
                            
                        </div>

                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3>Mobile App Development</h3>
                            <p>Native and cross-platform mobile applications for iOS and Android with modern UI/UX design.</p>
                            <div class="service-features">
                                <span class="feature-tag">React Native</span>
                                <span class="feature-tag">Flutter</span>
                                <span class="feature-tag">iOS</span>
                                <span class="feature-tag">Android</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$8,000</strong>
                            </div>
                            <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>

                        </div>

                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>Tech Consultation</h3>
                            <p>Strategic technology consulting to help you make informed decisions about your digital infrastructure.</p>
                            <div class="service-features">
                                <span class="feature-tag">Strategy</span>
                                <span class="feature-tag">Architecture</span>
                                <span class="feature-tag">Security</span>
                                <span class="feature-tag">Scalability</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$150/hour</strong>
                            </div>
                            <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>


                        </div>

    <!-- Popup Form -->
    <div id="consultationPopup" class="popup-overlay">
        <div class="popup-form">
            <!-- Close Button -->
            <span class="close-btn" onclick="closeConsultationForm()">&times;</span>
            
            <!-- Logo + Title -->
            <div class="popup-header">
                <img src="app-icon.jpeg" alt="BriTech Logo" class="popup-logo">
                <h2>BriTech Prime</h2>
                <p class="popup-subtitle">Book your free consultation</p>
            </div>
            
            <form class="consultation-form" onsubmit="handleSubmit(event)">
                <!-- Client Info -->
                <label>Full Name*</label>
                <input type="text" name="name" required>
                
                <label>Email Address*</label>
                <input type="email" name="email" required>
                
                <label>Phone Number</label>
                <input type="tel" name="phone">
                
                <!-- Consultation Details -->
                <label>Preferred Date*</label>
                <input type="date" name="date" required>
                
              <label>Preferred Time*</label>
                <div class="time-grid-container">
                    <input type="hidden" name="time" id="selectedTime" required>
                    <div class="time-grid" id="timeGrid">
                        <!-- Times will be populated by JavaScript -->
                    </div>
                    <div class="selected-time-display" id="selectedTimeDisplay">
                        Please select a preferred time
                    </div>
                </div>
                
                <label>Consultation Type*</label>
                <select name="service" id="service" required onchange="toggleOtherService(this)">
                    <option value="">Select a service</option>
                    <option>Web Design</option>
                    <option>App Development</option>
                    <option>UI/UX Review</option>
                    <option>Tech Consultation</option>
                    <option value="Other">Other</option>
                </select>
                
                <!-- Hidden field shown only if "Other" selected -->
                <div id="otherServiceField">
                    <label>Please describe your service</label>
                    <input type="text" name="other_service">
                </div>
                
                <!-- Extra Info -->
                <label>Project Description</label>
                <textarea name="message" rows="4" placeholder="Tell us about your project..."></textarea>
                
                <label>Budget Range</label>
                <select name="budget">
                    <option value="">Select budget range</option>
                    <option value="under-50k">Under KSh 50,000</option>
                    <option value="50k-150k">KSh 50,000 - 150,000</option>
                    <option value="150k-500k">KSh 150,000 - 500,000</option>
                    <option value="500k-1m">KSh 500,000 - 1,000,000</option>
                    <option value="over-1m">Over KSh 1,000,000</option>
                </select>
                
                <label>Location Preference</label>
                <select name="location">
                    <option>Online</option>
                    <option>Phone Call</option>
                    <option>In-Person</option>
                </select>
                
                <!-- File Upload -->
                <label>Attach File (optional)</label>
                <input type="file" name="file">
                
                <!-- Submit -->
                <button type="submit" class="submit-btn" id="submitBtn">Submit Consultation</button>
            </form>
        </div>
    </div>

    <script>
        // Open consultation form
        function openConsultationForm() {
            const popup = document.getElementById('consultationPopup');
            popup.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close consultation form
        function closeConsultationForm() {
            const popup = document.getElementById('consultationPopup');
            popup.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Toggle other service field
        function toggleOtherService(select) {
            const otherField = document.getElementById('otherServiceField');
            if (select.value === 'Other') {
                otherField.style.display = 'block';
                otherField.classList.add('show');
                setTimeout(() => {
                    otherField.style.maxHeight = '100px';
                }, 10);
            } else {
                otherField.style.maxHeight = '0';
                otherField.classList.remove('show');
                setTimeout(() => {
                    otherField.style.display = 'none';
                }, 300);
            }
        }

        // Handle form submission
        function handleSubmit(event) {
            event.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            
            // Add loading state
            submitBtn.classList.add('loading');
            submitBtn.innerHTML = 'Submitting...';
            
            // Simulate form submission (replace with actual form handling)
            setTimeout(() => {
                alert('Thank you! Your consultation request has been submitted. We\'ll get back to you within 24 hours.');
                closeConsultationForm();
                
                // Reset form
                document.querySelector('.consultation-form').reset();
                
                // Reset button
                submitBtn.classList.remove('loading');
                submitBtn.innerHTML = 'Submit Consultation';
                
                // Hide other service field if visible
                const otherField = document.getElementById('otherServiceField');
                otherField.style.display = 'none';
                otherField.style.maxHeight = '0';
            }, 2000);
        }

        // Close popup when clicking outside
        document.getElementById('consultationPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeConsultationForm();
            }
        });

        // Close popup with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeConsultationForm();
            }
        });

        // Set minimum date to today
        document.addEventListener('DOMContentLoaded', function() {
            const dateInput = document.querySelector('input[name="date"]');
            const today = new Date().toISOString().split('T')[0];
            dateInput.min = today;
        });
    </script>

<!-- CSS -->
<style>
/* Button Styling */
        .btn-secondary {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary:hover::before {
            left: 100%;
        }

        /* Popup Overlay */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.4s ease;
            padding: 20px;
        }

        .popup-overlay.active {
            display: flex;
            opacity: 1;
            animation: fadeIn 0.4s ease;
        }

        /* Popup Form Container */
        .popup-form {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.8) translateY(50px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .popup-overlay.active .popup-form {
            transform: scale(1) translateY(0);
        }

        /* Close Button */
        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 28px;
            color: #999;
            cursor: pointer;
            z-index: 10;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
            background: rgba(0,0,0,0.05);
        }

        .close-btn:hover {
            color: #ff4757;
            background: rgba(255, 71, 87, 0.1);
            transform: rotate(90deg);
        }

        /* Header Styling */
        .popup-header {
            text-align: center;
            padding: 40px 30px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px 20px 0 0;
            color: white;
            position: relative;
        }

        .popup-logo {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin-bottom: 15px;
            border: 4px solid rgba(255,255,255,0.3);
            animation: logoFloat 3s ease-in-out infinite;
            object-fit: cover;
        }

        .popup-header h2 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .popup-subtitle {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 300;
        }

        /* Form Styling */
        .consultation-form {
            padding: 30px;
        }

        .consultation-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .consultation-form input,
        .consultation-form select,
        .consultation-form textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 14px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            background: #fafbfc;
            font-family: inherit;
        }

        .consultation-form input:focus,
        .consultation-form select:focus,
        .consultation-form textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        /* Textarea specific styling */
        .consultation-form textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* File input styling */
        .consultation-form input[type="file"] {
            padding: 10px;
            background: white;
            border: 2px dashed #ddd;
            cursor: pointer;
        }

        .consultation-form input[type="file"]:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        /* Submit Button */
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        /* Other service field animation */
        #otherServiceField {
            overflow: hidden;
            max-height: 0;
            transition: all 0.3s ease;
        }

        #otherServiceField.show {
            max-height: 100px;
            display: block;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .popup-form {
                margin: 10px;
                border-radius: 15px;
            }
            
            .popup-header {
                padding: 30px 20px 25px;
                border-radius: 15px 15px 0 0;
            }
            
            .consultation-form {
                padding: 20px;
            }
            
            .popup-logo {
                width: 60px;
                height: 60px;
            }
            
            .popup-header h2 {
                font-size: 24px;
            }
        }

        /* Custom scrollbar for popup */
        .popup-form::-webkit-scrollbar {
            width: 6px;
        }

        .popup-form::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .popup-form::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }

        .popup-form::-webkit-scrollbar-thumb:hover {
            background: #5a67d8;
        }

        /* Loading animation for submit button */
        .submit-btn.loading {
            pointer-events: none;
        }

        .submit-btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }


        .popup-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.popup-overlay.active {
  display: flex;
}

.popup-form {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  position: relative;
}


</style>
<!-- JavaScript -->
 <script>
function openConsultationForm() {
  const popup = document.getElementById("consultationPopup");
  popup.classList.add("active");
  document.body.style.overflow = "hidden";
}

function closeConsultationForm() {
  const popup = document.getElementById("consultationPopup");
  popup.classList.remove("active");
  document.body.style.overflow = "auto";

  
}

<!-- get a free quote JS script -->


function openQuotePopup() {
    document.getElementById('quotePopupOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeQuotePopup() {
    document.getElementById('quotePopupOverlay').classList.remove('active');
    document.body.style.overflow = 'auto';
}

function submitQuoteForm(event) {
    event.preventDefault();
    
    // Get form data
    const formData = new FormData(event.target);
    
    // Get selected services
    const selectedServices = [];
    const serviceCheckboxes = document.querySelectorAll('input[name="services"]:checked');
    serviceCheckboxes.forEach(checkbox => {
        selectedServices.push(checkbox.value);
    });
    
    // Add services to form data
    formData.set('services', selectedServices.join(', '));
    
    // Here you would send the data to your server
    // For now, we'll just show success message
    console.log('Form Data:', Object.fromEntries(formData));
    
    // Close popup
    closeQuotePopup();
    
    // Show success notification
    const notification = document.getElementById('quoteNotification');
    notification.classList.add('show');
    
    // Hide notification after 4 seconds
    setTimeout(() => {
        notification.classList.remove('show');
    }, 4000);
    
    // Reset form
    event.target.reset();
}

// Close popup when clicking outside
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('quotePopupOverlay').addEventListener('click', function(event) {
        if (event.target === this) {
            closeQuotePopup();
        }
    });
    
    // Close popup with Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeQuotePopup();
        }
    });
});


function openQuotePopup() {
    const popup = document.getElementById('quotePopupOverlay');
    popup.style.display = 'block'; // Show the popup first
    popup.classList.add('active');  // Then animate it
    document.body.style.overflow = 'hidden';
}
function closeQuotePopup() {
    // Hide the popup  
    document.getElementById('quotePopupOverlay').classList.remove('active');
    document.body.style.overflow = 'auto';
    setTimeout(() => {
        document.getElementById('quotePopupOverlay').style.display = 'none';
    }, 300);
}


</script>


                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <h3>E-commerce Solutions</h3>
                            <p>Complete e-commerce platforms with payment integration, inventory management, and analytics.</p>
                            <div class="service-features">
                                <span class="feature-tag">Shopify</span>
                                <span class="feature-tag">WooCommerce</span>
                                <span class="feature-tag">Custom</span>
                                <span class="feature-tag">Payment</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$6,000</strong>
                            </div>
                            <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>

                        </div>

                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <h3>Cloud Solutions</h3>
                            <p>Cloud migration, infrastructure setup, and DevOps automation using AWS, Azure, and Google Cloud.</p>
                            <div class="service-features">
                                <span class="feature-tag">AWS</span>
                                <span class="feature-tag">Azure</span>
                                <span class="feature-tag">GCP</span>
                                <span class="feature-tag">DevOps</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$3,000</strong>
                            </div>
                           <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>

                        </div>

                        <div class="service-card">
                            <div class="service-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3>Cybersecurity Audit</h3>
                            <p>Comprehensive security assessments, vulnerability testing, and security implementation guidance.</p>
                            <div class="service-features">
                                <span class="feature-tag">Penetration Testing</span>
                                <span class="feature-tag">Compliance</span>
                                <span class="feature-tag">Risk Assessment</span>
                            </div>
                            <div class="service-pricing">
                                <span>Starting from</span>
                                <strong>$2,500</strong>
                            </div>
                            <button class="btn-service btn-secondary" onclick="openConsultationForm()">Book Session</button>

                        </div>
                    </div>

                    <!-- Case Studies Section -->
                    <div class="case-studies-section">
                        <h3>Case Studies</h3>
                        <div class="case-studies-grid">
                            <div class="case-study-card">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23667eea'/%3E%3Ctext x='150' y='105' text-anchor='middle' fill='white' font-family='Arial' font-size='16'%3EE-commerce Platform%3C/text%3E%3C/svg%3E" alt="Case Study">
                                <div class="case-study-content">
                                    <h4>E-commerce Platform for Fashion Retailer</h4>
                                    <p>Increased online sales by 300% with custom React-based platform and optimized user experience.</p>
                                    <div class="case-study-tags">
                                        <span>React</span>
                                        <span>Node.js</span>
                                        <span>AWS</span>
                                    </div>
                                </div>
                            </div>
                            <div class="case-study-card">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23764ba2'/%3E%3Ctext x='150' y='105' text-anchor='middle' fill='white' font-family='Arial' font-size='16'%3EMobile Banking App%3C/text%3E%3C/svg%3E" alt="Case Study">
                                <div class="case-study-content">
                                    <h4>Mobile Banking Application</h4>
                                    <p>Secure, user-friendly banking app with biometric authentication and real-time transactions.</p>
                                    <div class="case-study-tags">
                                        <span>React Native</span>
                                        <span>Security</span>
                                        <span>Fintech</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Consultation Section -->
                <section id="consultation" class="content-section">
                    <div class="section-header">
                        <h2>Consultations</h2>
                        <button class="btn-primary" onclick="scheduleConsultation()">
                            <i class="fas fa-calendar-plus"></i>
                            Schedule Session
                        </button>
                    </div>

                    <div class="consultation-grid">
                        <div class="consultation-card">
                            <div class="consultation-header">
                                <h3>Upcoming Sessions</h3>
                            </div>
                            <div class="session-item">
                                <div class="session-info">
                                    <h4>Technology Strategy Review</h4>
                                    <p>December 15, 2025 at 2:00 PM</p>
                                    <span class="session-duration">Duration: 2 hours</span>
                                </div>
                                <div class="session-actions">
                                    <button class="btn-join">Join Meeting</button>
                                    <button class="btn-reschedule">Reschedule</button>
                                </div>
                            </div>
                        </div>

                        <div class="consultation-card">
                            <div class="consultation-header">
                                <h3>Session History</h3>
                            </div>
                            <div class="session-history">
                                <div class="history-item">
                                    <div class="history-info">
                                        <h4>Cloud Migration Planning</h4>
                                        <p>November 28, 2025</p>
                                        <span class="history-status completed">Completed</span>
                                    </div>
                                    <div class="history-actions">
                                        <button class="btn-notes">View Notes</button>
                                        <button class="btn-recording">Recording</button>
                                    </div>
                                </div>
                                <div class="history-item">
                                    <div class="history-info">
                                        <h4>Security Assessment Review</h4>
                                        <p>November 15, 2025</p>
                                        <span class="history-status completed">Completed</span>
                                    </div>
                                    <div class="history-actions">
                                        <button class="btn-notes">View Notes</button>
                                        <button class="btn-recording">Recording</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="consultation-card">
                            <div class="consultation-header">
                                <h3>Recommendations</h3>
                            </div>
                            <div class="recommendations-list">
                                <div class="recommendation-item">
                                    <div class="rec-status pending"></div>
                                    <div class="rec-content">
                                        <h4>Implement Multi-Factor Authentication</h4>
                                        <p>Priority: High | Due: Dec 20, 2025</p>
                                    </div>
                                    <div class="rec-progress">
                                        <span>20%</span>
                                    </div>
                                </div>
                                <div class="recommendation-item">
                                    <div class="rec-status in-progress"></div>
                                    <div class="rec-content">
                                        <h4>Migrate to Cloud Infrastructure</h4>
                                        <p>Priority: Medium | Due: Jan 15, 2026</p>
                                    </div>
                                    <div class="rec-progress">
                                        <span>60%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Projects Section -->
                <section id="projects" class="content-section">
                    <div class="section-header">
                        <h2>Projects</h2>
                        <button class="btn-primary">
                            <i class="fas fa-plus"></i>
                            New Project
                        </button>
                    </div>
                    
                    <div class="projects-enhanced">
                        <div class="project-card-enhanced">
                            <div class="project-header">
                                <h3>E-commerce Platform</h3>
                                <div class="project-status in-progress">In Progress</div>
                            </div>
                            <p>Full-stack e-commerce solution with payment integration</p>
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%"></div>
                                </div>
                                <span>75% Complete</span>
                            </div>
                            <div class="project-details">
                                <div class="detail-item">
                                    <span class="detail-label">Technology:</span>
                                    <span>React, Node.js, MongoDB</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Repository:</span>
                                    <a href="#" class="repo-link">View Code</a>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Demo:</span>
                                    <a href="#" class="demo-link">Live Preview</a>
                                </div>
                            </div>
                            <div class="project-meta">
                                <span><i class="fas fa-calendar"></i> Due: Dec 15, 2025</span>
                                <span><i class="fas fa-dollar-sign"></i> $8,500</span>
                            </div>
                            <div class="project-actions">
                                <button class="btn-action">View Details</button>
                                <button class="btn-action">Report Issue</button>
                            </div>
                        </div>

                        <div class="project-card-enhanced">
                            <div class="project-header">
                                <h3>Mobile App Development</h3>
                                <div class="project-status review">Under Review</div>
                            </div>
                            <p>iOS and Android app with real-time features</p>
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 90%"></div>
                                </div>
                                <span>90% Complete</span>
                            </div>
                            <div class="project-details">
                                <div class="detail-item">
                                    <span class="detail-label">Technology:</span>
                                    <span>React Native, Firebase</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Testing:</span>
                                    <a href="#" class="repo-link">TestFlight Link</a>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Feedback:</span>
                                    <button class="btn-feedback">Submit Feedback</button>
                                </div>
                            </div>
                            <div class="project-meta">
                                <span><i class="fas fa-calendar"></i> Due: Nov 30, 2025</span>
                                <span><i class="fas fa-dollar-sign"></i> $12,000</span>
                            </div>
                            <div class="project-actions">
                                <button class="btn-action">View Details</button>
                                <button class="btn-action">Report Issue</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Resources Section -->
                <section id="resources" class="content-section">
                    <div class="section-header">
                        <h2>Knowledge Hub</h2>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search resources...">
                        </div>
                    </div>

                    <div class="resources-grid">
                        <div class="resource-category">
                            <h3>Technical Documentation</h3>
                            <div class="resource-items">
                                <a href="#" class="resource-item">
                                    <i class="fas fa-file-code"></i>
                                    <div>
                                        <h4>API Documentation</h4>
                                        <p>Complete API reference and integration guides</p>
                                    </div>
                                </a>
                                <a href="#" class="resource-item">
                                    <i class="fas fa-database"></i>
                                    <div>
                                        <h4>Database Schema Guide</h4>
                                        <p>Database structure and relationship documentation</p>
                                    </div>
                                </a>
                            </div>
                        </div>

                        <div class="resource-category">
                            <h3>Best Practices</h3>
                            <div class="resource-items">
                                <a href="#" class="resource-item">
                                    <i class="fas fa-shield-alt"></i>
                                    <div>
                                        <h4>Security Guidelines</h4>
                                        <p>Best practices for secure application development</p>
                                    </div>
                                </a>
                                <a href="#" class="resource-item">
                                    <i class="fas fa-rocket"></i>
                                    <div>
                                        <h4>Performance Optimization</h4>
                                        <p>Tips for optimizing application performance</p>
                                    </div>
                                </a>
                            </div>
                        </div>

                        <div class="resource-category">
                            <h3>Industry Insights</h3>
                            <div class="resource-items">
                                <a href="#" class="resource-item">
                                    <i class="fas fa-chart-line"></i>
                                    <div>
                                        <h4>Technology Trends 2025</h4>
                                        <p>Latest trends in web and mobile development</p>
                                    </div>
                                </a>
                                <a href="#" class="resource-item">
                                    <i class="fas fa-lightbulb"></i>
                                    <div>
                                        <h4>Innovation Report</h4>
                                        <p>Emerging technologies and their applications</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="faq-section">
                        <h3>Frequently Asked Questions</h3>
                        <div class="faq-items">
                            <div class="faq-item">
                                <button class="faq-question">
                                    <span>How do I access my project's test environment?</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="faq-answer">
                                    <p>You can access your project's test environment through the demo links provided in the Projects section. Login credentials will be shared via secure message.</p>
                                </div>
                            </div>
                            <div class="faq-item">
                                <button class="faq-question">
                                    <span>What is included in tech consultation sessions?</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="faq-answer">
                                    <p>Tech consultation sessions include strategic planning, architecture review, technology recommendations, security assessments, and actionable implementation roadmaps tailored to your business needs.</p>
                                </div>
                            </div>
                            <div class="faq-item">
                                <button class="faq-question">
                                    <span>How do I report bugs or request changes?</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="faq-answer">
                                    <p>Use the "Report Issue" button on your project card or send us a detailed message through the Messages section. Include screenshots and steps to reproduce the issue.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Messages Section -->
                <section id="messages" class="content-section">
                    <div class="section-header">
                        <h2>Messages</h2>
                        <button class="btn-primary">
                            <i class="fas fa-plus"></i>
                            New Message
                        </button>
                    </div>
                    
                    <div class="messages-enhanced">
                        <div class="message-thread active">
                            <div class="thread-header">
                                <div class="thread-info">
                                    <h3>Project Updates</h3>
                                    <span class="thread-participants">You, Project Manager, Dev Team</span>
                                </div>
                                <span class="thread-time">Today, 2:30 PM</span>
                            </div>
                            <div class="message-bubble received">
                                <div class="message-sender">
                                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23667eea'/%3E%3Ctext x='16' y='21' text-anchor='middle' fill='white' font-family='Arial' font-size='12' font-weight='bold'%3EPM%3C/text%3E%3C/svg%3E" alt="PM">
                                    <span>Project Manager</span>
                                </div>
                                <div class="message-content">
                                    <p>Great news! We've completed the payment integration testing for your e-commerce platform. The Stripe integration is working perfectly with all major credit cards and PayPal.</p>
                                </div>
                                <span class="message-timestamp">2:30 PM</span>
                            </div>
                            <div class="message-bubble sent">
                                <div class="message-content">
                                    <p>Excellent! When can we expect the staging environment to be updated with these changes?</p>
                                </div>
                                <span class="message-timestamp">2:45 PM</span>
                            </div>
                            <div class="message-bubble received">
                                <div class="message-sender">
                                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23764ba2'/%3E%3Ctext x='16' y='21' text-anchor='middle' fill='white' font-family='Arial' font-size='12' font-weight='bold'%3EDT%3C/text%3E%3C/svg%3E" alt="Dev">
                                    <span>Dev Team</span>
                                </div>
                                <div class="message-content">
                                    <p>The staging deployment is scheduled for tomorrow morning. I'll send you the updated credentials and testing checklist once it's live.</p>
                                </div>
                                <span class="message-timestamp">3:15 PM</span>
                            </div>
                        </div>
                        
                        <div class="message-input-area">
                            <div class="input-toolbar">
                                <button class="toolbar-btn"><i class="fas fa-paperclip"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-image"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-smile"></i></button>
                            </div>
                            <div class="message-input">
                                <input type="text" placeholder="Type your message..." id="messageInput">
                                <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Documents Section -->
                <section id="documents" class="content-section">
                    <div class="section-header">
                        <h2>Documents</h2>
                        <button class="btn-primary">
                            <i class="fas fa-upload"></i>
                            Upload File
                        </button>
                    </div>
                    
                    <div class="documents-enhanced">
                        <div class="document-categories">
                            <button class="category-btn active" data-category="all">All Files</button>
                            <button class="category-btn" data-category="contracts">Contracts</button>
                            <button class="category-btn" data-category="designs">Designs</button>
                            <button class="category-btn" data-category="documentation">Documentation</button>
                            <button class="category-btn" data-category="reports">Reports</button>
                        </div>
                        
                        <div class="documents-grid">
                            <div class="document-item-enhanced" data-category="contracts">
                                <div class="doc-icon">
                                    <i class="fas fa-file-contract"></i>
                                </div>
                                <div class="doc-info">
                                    <h4>Service Agreement.pdf</h4>
                                    <p>1.2 MB • Nov 1, 2025</p>
                                    <span class="doc-category">Contract</span>
                                </div>
                                <div class="doc-actions">
                                    <button class="btn-preview"><i class="fas fa-eye"></i></button>
                                    <button class="btn-download"><i class="fas fa-download"></i></button>
                                    <button class="btn-share"><i class="fas fa-share"></i></button>
                                </div>
                            </div>
                            
                            <div class="document-item-enhanced" data-category="designs">
                                <div class="doc-icon">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <div class="doc-info">
                                    <h4>UI Mockups.sketch</h4>
                                    <p>5.8 MB • Nov 8, 2025</p>
                                    <span class="doc-category">Design</span>
                                </div>
                                <div class="doc-actions">
                                    <button class="btn-preview"><i class="fas fa-eye"></i></button>
                                    <button class="btn-download"><i class="fas fa-download"></i></button>
                                    <button class="btn-share"><i class="fas fa-share"></i></button>
                                </div>
                            </div>
                            
                            <div class="document-item-enhanced" data-category="documentation">
                                <div class="doc-icon">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="doc-info">
                                    <h4>Technical Requirements.docx</h4>
                                    <p>2.1 MB • Nov 5, 2025</p>
                                    <span class="doc-category">Documentation</span>
                                </div>
                                <div class="doc-actions">
                                    <button class="btn-preview"><i class="fas fa-eye"></i></button>
                                    <button class="btn-download"><i class="fas fa-download"></i></button>
                                    <button class="btn-share"><i class="fas fa-share"></i></button>
                                </div>
                            </div>
                            
                            <div class="document-item-enhanced" data-category="reports">
                                <div class="doc-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="doc-info">
                                    <h4>Project Progress Report.pdf</h4>
                                    <p>0.8 MB • Dec 1, 2025</p>
                                    <span class="doc-category">Report</span>
                                </div>
                                <div class="doc-actions">
                                    <button class="btn-preview"><i class="fas fa-eye"></i></button>
                                    <button class="btn-download"><i class="fas fa-download"></i></button>
                                    <button class="btn-share"><i class="fas fa-share"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Billing Section -->
                <section id="billing" class="content-section">
                    <div class="section-header">
                        <h2>Billing & Invoices</h2>
                        <button class="btn-primary" id="paymentMethodsBtn">
                            <i class="fas fa-credit-card"></i>
                            Payment Methods
                        </button>
                    </div>
                    
                    <div class="billing-enhanced">
                        <div class="billing-overview">
                            <div class="billing-card">
                                <h3>Current Balance</h3>
                                <div class="balance-amount">$2,450.00</div>
                                <p>Due by December 15, 2025</p>
                                <button class="btn-pay-now">Pay Now</button>
                            </div>
                            
                            <div class="billing-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Total Paid</span>
                                    <span class="stat-value">$45,200</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">This Month</span>
                                    <span class="stat-value">$3,800</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Next Due</span>
                                    <span class="stat-value">Dec 15</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="invoices-section">
                            <h3>Recent Invoices</h3>
                            <div class="invoice-list">
                                <div class="invoice-item">
                                    <div class="invoice-info">
                                        <h4>Invoice #INV-2025-034</h4>
                                        <p>E-commerce Development - Phase 2</p>
                                        <span class="invoice-date">November 30, 2025</span>
                                    </div>
                                    <div class="invoice-amount">$2,450.00</div>
                                    <div class="invoice-status pending">Pending</div>
                                    <div class="invoice-actions">
                                        <button class="btn-view">View</button>
                                        <button class="btn-pay">Pay</button>
                                    </div>
                                </div>
                                
                                <div class="invoice-item">
                                    <div class="invoice-info">
                                        <h4>Invoice #INV-2025-033</h4>
                                        <p>Mobile App Development - Phase 1</p>
                                        <span class="invoice-date">October 28, 2025</span>
                                    </div>
                                    <div class="invoice-amount">$6,000.00</div>
                                    <div class="invoice-status paid">Paid</div>
                                    <div class="invoice-actions">
                                        <button class="btn-view">View</button>
                                        <button class="btn-receipt">Receipt</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Support Section -->
                <section id="support" class="content-section">
                    <div class="section-header">
                        <h2>Support Center</h2>
                        <button class="btn-primary">
                            <i class="fas fa-ticket-alt"></i>
                            New Ticket
                        </button>
                    </div>
                    
                    <div class="support-enhanced">
                        <div class="support-options">
                            <div class="support-card" onclick="startLiveChat()">
                                <i class="fas fa-comments"></i>
                                <h3>Live Chat</h3>
                                <p>Chat with our support team</p>
                                <span class="availability online">Online</span>
                            </div>
                            <div class="support-card">
                                <i class="fas fa-video"></i>
                                <h3>Screen Sharing</h3>
                                <p>Get visual assistance</p>
                                <span class="availability">Available</span>
                            </div>
                            <div class="support-card">
                                <i class="fas fa-question-circle"></i>
                                <h3>Knowledge Base</h3>
                                <p>Find answers to common questions</p>
                                <span class="availability">24/7</span>
                            </div>
                        </div>
                        
                        <div class="support-tickets">
                            <h3>Your Support Tickets</h3>
                            <div class="ticket-list">
                                <div class="ticket-item">
                                    <div class="ticket-info">
                                        <h4>Ticket #SUP-2025-127</h4>
                                        <p>Payment integration testing issue</p>
                                        <span class="ticket-date">December 1, 2025</span>
                                    </div>
                                    <div class="ticket-status resolved">Resolved</div>
                                    <div class="ticket-actions">
                                        <button class="btn-view-ticket">View</button>
                                    </div>
                                </div>
                                
                                <div class="ticket-item">
                                    <div class="ticket-info">
                                        <h4>Ticket #SUP-2025-124</h4>
                                        <p>Mobile app performance optimization</p>
                                        <span class="ticket-date">November 25, 2025</span>
                                    </div>
                                    <div class="ticket-status in-progress">In Progress</div>
                                    <div class="ticket-actions">
                                        <button class="btn-view-ticket">View</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Service Request Modal -->
    <div id="serviceRequestModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Request New Service</h3>
                <button class="close-modal" onclick="closeServiceRequest()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="serviceRequestForm">
                    <div class="form-group">
                        <label>Service Type</label>
                        <select required>
                            <option value="">Select a service</option>
                            <option value="web-dev">Web Application Development</option>
                            <option value="mobile-dev">Mobile App Development</option>
                            <option value="consultation">Tech Consultation</option>
                            <option value="ecommerce">E-commerce Solutions</option>
                            <option value="cloud">Cloud Solutions</option>
                            <option value="security">Cybersecurity Audit</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Project Title</label>
                        <input type="text" required>
                    </div>
                    <div class="form-group">
                        <label>Budget Range</label>
                        <select required>
                            <option value="">Select budget range</option>
                            <option value="5k-10k">$5,000 - $10,000</option>
                            <option value="10k-25k">$10,000 - $25,000</option>
                            <option value="25k-50k">$25,000 - $50,000</option>
                            <option value="50k+">$50,000+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Timeline</label>
                        <select required>
                            <option value="">Select timeline</option>
                            <option value="urgent">Rush (1-2 weeks)</option>
                            <option value="normal">Standard (1-3 months)</option>
                            <option value="flexible">Flexible (3+ months)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Project Description</label>
                        <textarea rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Technical Requirements</label>
                        <textarea rows="3" placeholder="Any specific technologies, integrations, or features..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" onclick="closeServiceRequest()" class="btn-cancel">Cancel</button>
                        <button type="submit" class="btn-submit">Submit Request</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #667eea 50%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Login Styles */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            width: 100%;
            max-width: 450px;
            backdrop-filter: blur(10px);
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .login-tabs {
            display: flex;
            margin-bottom: 30px;
            border-radius: 10px;
            background: #f8f9fa;
            padding: 5px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group {
            position: relative;
        }

        .form-group i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-size: 1.1rem;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 15px 15px 15px 50px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group textarea {
            resize: vertical;
            padding-top: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
            padding-left: 0;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .checkbox-container input {
            margin-right: 8px;
            width: auto;
            padding: 0;
            position: relative;
        }

        .forgot-password {
            color: #667eea;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .auth-btn, .btn-primary, .btn-submit {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .auth-btn:hover, .btn-primary:hover, .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .demo-credentials {
            text-align: center;
            margin-top: 15px;
            color: #666;
        }

        /* Portal Styles */
        .portal-container {
            min-height: 100vh;
            background: #f8f9fa;
        }

        .portal-header {
            background: white;
            padding: 15px 30px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .header-left h1 {
            color: #2c3e50;
            font-size: 1.8rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .portal-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-left: 15px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification-bell {
            position: relative;
            cursor: pointer;
        }

        .notification-bell i {
            font-size: 1.3rem;
            color: #667eea;
        }

        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            position: relative;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .user-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 10px 0;
            min-width: 180px;
            display: none;
            z-index: 1000;
        }

        .user-menu:hover .dropdown-menu {
            display: block;
        }

        .dropdown-menu a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            text-decoration: none;
            color: #333;
            transition: background 0.3s ease;
        }

        .dropdown-menu a:hover {
            background: #f8f9fa;
        }

        .portal-main {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        .sidebar {
            width: 250px;
            background: white;
            border-right: 1px solid #e9ecef;
            padding: 20px 0;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 30px;
            text-decoration: none;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-item:hover, .nav-item.active {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            color: #667eea;
            border-right: 3px solid #667eea;
        }

        .nav-item i {
            font-size: 1.2rem;
            width: 20px;
        }

        .nav-badge {
            background: #e74c3c;
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 0.7rem;
            margin-left: auto;
        }

        .content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
        }

        .section-header h2 {
            color: #2c3e50;
            font-size: 2rem;
        }

        .section-header p {
            color: #666;
            margin-top: 5px;
        }

        .search-box {
            position: relative;
            max-width: 300px;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
        }

        .search-box input {
            padding: 12px 20px 12px 45px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .stat-content h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-content p {
            color: #666;
            font-size: 0.9rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .dashboard-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .dashboard-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .project-item, .message-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .project-item:last-child, .message-item:last-child {
            border-bottom: none;
        }

        .project-info, .message-content {
            flex: 1;
        }

        .project-info h4, .message-content h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .project-info p, .message-content p {
            color: #666;
            font-size: 0.9rem;
        }

        .project-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .project-status.in-progress {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
        }

        .project-status.review {
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
        }

        .project-status.completed {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 15px;
            font-size: 0.9rem;
        }

        .message-time {
            font-size: 0.8rem;
            color: #999;
            margin-top: 5px;
        }

        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .service-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .service-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            margin: 0 auto 20px;
        }

        .service-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .service-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .service-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .feature-tag {
            background: #f8f9fa;
            color: #667eea;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .service-pricing {
            margin-bottom: 20px;
        }

        .service-pricing span {
            color: #666;
            font-size: 0.9rem;
        }

        .service-pricing strong {
            color: #2c3e50;
            font-size: 1.3rem;
            display: block;
            margin-top: 5px;
        }

        .btn-service {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-service:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .case-studies-section {
            margin-top: 50px;
        }

        .case-studies-section h3 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 1.5rem;
        }

        .case-studies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .case-study-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .case-study-card:hover {
            transform: translateY(-5px);
        }

        .case-study-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .case-study-content {
            padding: 25px;
        }

        .case-study-content h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .case-study-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .case-study-tags {
            display: flex;
            gap: 8px;
        }

        .case-study-tags span {
            background: #f8f9fa;
            color: #667eea;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        /* Projects Section */
        .projects-enhanced {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .project-card-enhanced {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .project-card-enhanced:hover {
            transform: translateY(-5px);
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .project-header h3 {
            color: #2c3e50;
            font-size: 1.3rem;
        }

        .project-card-enhanced p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .project-progress {
            margin-bottom: 20px;
        }

        .progress-bar {
            background: #f0f0f0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .project-progress span {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }

        .project-details {
            margin-bottom: 20px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .detail-label {
            font-weight: 500;
            color: #2c3e50;
        }

        .repo-link, .demo-link {
            color: #667eea;
            text-decoration: none;
        }

        .btn-feedback {
            background: #667eea;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            cursor: pointer;
        }

        .project-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            color: #666;
            font-size: 0.9rem;
        }

        .project-actions {
            display: flex;
            gap: 10px;
        }

        .btn-action {
            flex: 1;
            padding: 10px;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-action:hover {
            background: #667eea;
            color: white;
        }

        /* Consultation Section */
        .consultation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .consultation-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .consultation-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
        }

        .consultation-header h3 {
            margin: 0;
            font-size: 1.2rem;
        }

        .session-item, .history-item, .recommendation-item {
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
        }

        .session-item:last-child, .history-item:last-child, .recommendation-item:last-child {
            border-bottom: none;
        }

        .session-info h4, .history-info h4, .rec-content h4 {
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .session-info p, .history-info p, .rec-content p {
            color: #666;
            margin-bottom: 8px;
        }

        .session-duration {
            font-size: 0.8rem;
            color: #999;
        }

        .session-actions, .history-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-join, .btn-reschedule, .btn-notes, .btn-recording {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .btn-join {
            background: #27ae60;
            color: white;
        }

        .btn-reschedule, .btn-notes, .btn-recording {
            background: #f8f9fa;
            color: #666;
        }

        .history-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .history-status.completed {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .recommendation-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .rec-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .rec-status.pending {
            background: #f39c12;
        }

        .rec-status.in-progress {
            background: #3498db;
        }

        .rec-content {
            flex: 1;
        }

        .rec-progress {
            font-weight: 600;
            color: #667eea;
        }

        /* Resources Section */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .resource-category {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .resource-category h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .resource-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 0;
            text-decoration: none;
            color: inherit;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.3s ease;
        }

        .resource-item:last-child {
            border-bottom: none;
        }

        .resource-item:hover {
            background: #f8f9fa;
            margin: 0 -15px;
            padding: 15px;
            border-radius: 8px;
        }

        .resource-item i {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .resource-item h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .resource-item p {
            color: #666;
            font-size: 0.9rem;
        }

        .faq-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .faq-section h3 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 1.3rem;
        }

        .faq-question {
            width: 100%;
            background: none;
            border: none;
            padding: 20px 0;
            text-align: left;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1rem;
            color: #2c3e50;
            font-weight: 500;
        }

        .faq-answer {
            padding: 0 0 20px 0;
            color: #666;
            line-height: 1.6;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        /* Messages Section */
        .messages-enhanced {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .message-thread {
            padding: 25px;
            max-height: 500px;
            overflow-y: auto;
        }

        .thread-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .thread-info h3 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .thread-participants {
            color: #666;
            font-size: 0.9rem;
        }

        .thread-time {
            color: #999;
            font-size: 0.9rem;
        }

        .message-bubble {
            margin-bottom: 20px;
        }

        .message-bubble.received {
            align-self: flex-start;
        }

        .message-bubble.sent {
            align-self: flex-end;
            text-align: right;
        }

        .message-sender {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .message-sender img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }

        .message-sender span {
            font-weight: 500;
            color: #2c3e50;
        }

        .message-bubble .message-content {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 5px;
        }

        .message-bubble.sent .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            margin-left: auto;
            max-width: 70%;
        }

        .message-timestamp {
            font-size: 0.8rem;
            color: #999;
        }

        .message-input-area {
            border-top: 1px solid #f0f0f0;
            padding: 20px 25px;
        }

        .input-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .toolbar-btn {
            background: none;
            border: none;
            color: #667eea;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 8px;
        }

        .message-input {
            display: flex;
            gap: 10px;
        }

        .message-input input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            outline: none;
        }

        .message-input input:focus {
            border-color: #667eea;
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Documents Section */
        .documents-enhanced {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .document-categories {
            display: flex;
            padding: 20px 25px;
            border-bottom: 1px solid #f0f0f0;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 16px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .documents-grid {
            padding: 25px;
            display: grid;
            gap: 15px;
        }

        .document-item-enhanced {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border: 1px solid #f0f0f0;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .document-item-enhanced:hover {
            background: #f8f9fa;
            border-color: #667eea;
        }

        .doc-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .doc-info {
            flex: 1;
        }

        .doc-info h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .doc-info p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .doc-category {
            background: #f8f9fa;
            color: #667eea;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
        }

        .doc-actions {
            display: flex;
            gap: 8px;
        }

        .btn-preview, .btn-download, .btn-share {
            background: none;
            border: 2px solid #e9ecef;
            color: #666;
            width: 35px;
            height: 35px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .btn-preview:hover, .btn-download:hover, .btn-share:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* Billing Section */
        .billing-enhanced {
            display: grid;
            gap: 30px;
        }

        .billing-overview {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
        }

        .billing-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        .billing-card h3 {
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .balance-amount {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .billing-card p {
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .btn-pay-now {
            background: white;
            color: #667eea;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-pay-now:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255,255,255,0.3);
        }

        .billing-stats {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: #666;
        }

        .stat-value {
            color: #2c3e50;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .invoices-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .invoices-section h3 {
            color: #2c3e50;
            margin-bottom: 25px;
        }

        .invoice-item {
            display: grid;
            grid-template-columns: 1fr auto auto auto;
            gap: 20px;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .invoice-item:last-child {
            border-bottom: none;
        }

        .invoice-info h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .invoice-info p {
            color: #666;
            margin-bottom: 8px;
        }

        .invoice-date {
            font-size: 0.9rem;
            color: #999;
        }

        .invoice-amount {
            font-weight: 700;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .invoice-status {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .invoice-status.pending {
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
        }

        .invoice-status.paid {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .invoice-actions {
            display: flex;
            gap: 8px;
        }

        .btn-view, .btn-pay, .btn-receipt {
            padding: 6px 12px;
            border: 1px solid #e9ecef;
            background: white;
            color: #666;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .btn-pay {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .btn-view:hover, .btn-receipt:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* Support Section */
        .support-enhanced {
            display: grid;
            gap: 30px;
        }

        .support-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .support-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .support-card:hover {
            transform: translateY(-5px);
        }

        .support-card i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .support-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .support-card p {
            color: #666;
            margin-bottom: 15px;
        }

        .availability {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            background: #f8f9fa;
            color: #666;
        }

        .availability.online {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .support-tickets {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .support-tickets h3 {
            color: #2c3e50;
            margin-bottom: 25px;
        }

        .ticket-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .ticket-item:last-child {
            border-bottom: none;
        }

        .ticket-info h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

       .ticket-info p {
            color: #666;
            margin-bottom: 8px;
        }

        .ticket-date {
            font-size: 0.9rem;
            color: #999;
        }

        .ticket-status {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .ticket-status.resolved {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }

        .ticket-status.in-progress {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
        }

        .btn-view-ticket {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            color: #666;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .btn-view-ticket:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: translateY(50px);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            border-bottom: 1px solid #f0f0f0;
        }

        .modal-header h3 {
            color: #2c3e50;
            margin: 0;
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            color: #999;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #667eea;
        }

        .modal-body {
            padding: 30px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .btn-cancel {
            padding: 12px 25px;
            background: transparent;
            border: 2px solid #e9ecef;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-cancel:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .billing-overview {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 968px) {
            .sidebar {
                width: 200px;
            }
            
            .nav-item span {
                font-size: 0.9rem;
            }
            
            .services-grid, .projects-enhanced, .consultation-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .portal-main {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #e9ecef;
            }
            
            .sidebar-nav {
                flex-direction: row;
                overflow-x: auto;
                padding: 10px;
            }
            
            .nav-item {
                white-space: nowrap;
                min-width: 120px;
                text-align: center;
                border-right: none;
                border-bottom: 3px solid transparent;
            }
            
            .nav-item.active {
                border-right: none;
                border-bottom: 3px solid #667eea;
            }
            
            .content {
                padding: 20px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .portal-header {
                padding: 15px 20px;
            }
            
            .header-left h1 {
                font-size: 1.5rem;
            }
            
            .portal-tag {
                display: none;
            }
            
            .user-name {
                display: none;
            }
            
            .login-card {
                padding: 30px 20px;
                margin: 10px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .invoice-item {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .invoice-actions {
                justify-self: stretch;
            }
            
            .document-categories {
                padding: 15px 20px;
                gap: 8px;
            }
            
            .category-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .login-header h1 {
                font-size: 2rem;
            }
            
            .stat-card {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .project-actions {
                flex-direction: column;
            }
            
            .session-actions, .history-actions {
                flex-direction: column;
            }
            
            .modal-content {
                width: 95%;
                margin: 10px;
            }
            
            .modal-header, .modal-body {
                padding: 20px;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Utility Classes */
        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .p-20 {
            padding: 20px;
        }

        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }

        /* Print Styles */
        @media print {
            .sidebar, .portal-header, .btn-primary, .btn-service, .btn-action {
                display: none;
            }
            
            .content {
                padding: 0;
                margin: 0;
            }
            
            .portal-main {
                flex-direction: column;
            }
            
            .content-section {
                page-break-inside: avoid;
            }
            
            * {
                box-shadow: none !important;
            }
        }
    </style>


<!-- payment code starts here -->

<!-- Payment Invoice Modal -->
<div id="payInvoiceModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="invoiceTitle">Pay Invoice</h3>
            <button class="close-modal" onclick="closePayInvoiceModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="payment-summary">
                <div class="summary-item">
                    <span>Amount Due:</span>
                    <span class="amount" id="totalAmount">$2,450.00</span>
                </div>
                <div class="summary-item">
                    <span>Due Date:</span>
                    <span>December 15, 2025</span>
                </div>
            </div>

            <div class="payment-methods-tabs">
                <button class="payment-tab active" onclick="showPaymentMethod('card')">
                    <i class="fas fa-credit-card"></i>
                    Credit Card
                </button>
                <button class="payment-tab" onclick="showPaymentMethod('paypal')">
                    <i class="fab fa-paypal"></i>
                    PayPal
                </button>
                <button class="payment-tab" onclick="showPaymentMethod('bank')">
                    <i class="fas fa-university"></i>
                    Bank Transfer
                </button>
                <button class="payment-tab" onclick="showPaymentMethod('mpesa')">
                    <i class="fas fa-mobile-alt"></i>
                    M-Pesa
                </button>
            </div>

            <!-- Credit Card Payment Form -->
                        <!-- Updated Credit Card Payment Form -->
            <div id="cardPayment" class="payment-form active">
                <div class="form-group">
                    <label>Amount to Pay</label>
                    <div class="amount-input-group">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="cardAmount" placeholder="2450.00" min="1" step="0.01" onchange="updatePaymentAmount(this.value)">
                        <span class="remaining-balance" id="cardRemaining">Remaining: $0.00</span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Card Number</label>
                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Expiry Date</label>
                        <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5">
                    </div>
                    <div class="form-group">
                        <label>CVV</label>
                        <input type="text" id="cvv" placeholder="123" maxlength="4">
                    </div>
                </div>
                <div class="form-group">
                    <label>Cardholder Name</label>
                    <input type="text" id="cardholderName" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label class="checkbox-container">
                        <input type="checkbox" id="saveCard">
                        <span class="checkmark"></span>
                        Save this card for future payments
                    </label>
                </div>
            </div>

            <!-- PayPal Payment Form -->
            <!-- Updated PayPal Payment Form -->
            <div id="paypalPayment" class="payment-form">
                <div class="form-group">
                    <label>Amount to Pay</label>
                    <div class="amount-input-group">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="paypalAmount" placeholder="2450.00" min="1" step="0.01" onchange="updatePaymentAmount(this.value)">
                        <span class="remaining-balance" id="paypalRemaining">Remaining: $0.00</span>
                    </div>
                </div>
                <div class="paypal-info">
                    <div class="paypal-logo">
                        <i class="fab fa-paypal" style="font-size: 3rem; color: #0070ba;"></i>
                    </div>
                    <p>You will be redirected to PayPal to complete your payment securely.</p>
                    <div class="paypal-benefits">
                        <div class="benefit-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Secure payment processing</span>
                        </div>
                        <div class="benefit-item">
                            <i class="fas fa-clock"></i>
                            <span>Instant payment confirmation</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bank Transfer Form -->
            <div id="bankPayment" class="payment-form">
                <div class="bank-transfer-info">
                    <h4>Bank Transfer Details</h4>
                    <div class="bank-details">
                        <div class="bank-item">
                            <span class="label">Account Name:</span>
                            <span class="value">BriTech Prime Ltd</span>
                            <button class="btn-copy" onclick="copyToClipboard('BriTech Prime Ltd')">Copy</button>
                        </div>
                        <div class="bank-item">
                            <span class="label">Account Number:</span>
                            <span class="value">1234567890</span>
                            <button class="btn-copy" onclick="copyToClipboard('1234567890')">Copy</button>
                        </div>
                        <div class="bank-item">
                            <span class="label">Routing Number:</span>
                            <span class="value">021000021</span>
                            <button class="btn-copy" onclick="copyToClipboard('021000021')">Copy</button>
                        </div>
                        <div class="bank-item">
                            <span class="label">Reference:</span>
                            <span class="value">INV-2025-034</span>
                            <button class="btn-copy" onclick="copyToClipboard('INV-2025-034')">Copy</button>
                        </div>
                    </div>
                    <div class="transfer-note">
                        <i class="fas fa-info-circle"></i>
                        <p>Please include the reference number in your transfer description. Payment confirmation may take 1-3 business days.</p>
                    </div>
                </div>
            </div>

            <!-- M-Pesa Payment Form -->
            <div id="mpesaPayment" class="payment-form">
                <div class="mpesa-info">
                    <div class="mpesa-logo">
                        <i class="fas fa-mobile-alt" style="font-size: 3rem; color: #00a651;"></i>
                    </div>
                    <h4>Pay with M-Pesa</h4>
                    <div class="mpesa-details">
                        <div class="mpesa-item">
                            <span class="label">Till Number:</span>
                            <span class="value">6963629</span>
                            <button class="btn-copy" onclick="copyToClipboard('6963629')">Copy</button>
                        </div>
                        <div class="mpesa-item">
                            <span class="label">Business Name:</span>
                            <span class="value">BriTech Prime</span>
                            <button class="btn-copy" onclick="copyToClipboard('BriTech Prime')">Copy</button>
                        </div>
                        <div class="form-group">
                            <label>Your M-Pesa Phone Number</label>
                            <input type="tel" id="mpesaPhone" placeholder="254700000000" maxlength="12">
                        </div>
                        <div class="form-group">
                            <label>Amount to Pay</label>
                            <input type="number" id="mpesaAmount" placeholder="2450.00" min="1" step="0.01">
                        </div>
                    </div>
                    <div class="mpesa-instructions">
                        <h5>How to pay:</h5>
                        <ol>
                            <li>Go to M-Pesa menu on your phone</li>
                            <li>Select "Lipa na M-Pesa"</li>
                            <li>Select "Buy Goods and Services"</li>
                            <li>Enter Till Number: <strong>6963629</strong></li>
                            <li>Enter amount: <span id="displayAmount">KES 2,450.00</span></li>
                            <li>Enter your M-Pesa PIN to complete</li>
                        </ol>
                    </div>
                    <div class="mpesa-note">
                        <i class="fas fa-info-circle"></i>
                        <p>You will receive an SMS confirmation once payment is processed. Please keep your M-Pesa receipt for reference.</p>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button type="button" onclick="closePayInvoiceModal()" class="btn-cancel">Cancel</button>
                <button type="button" onclick="processPayment()" class="btn-pay-now">
                    <i class="fas fa-lock"></i>
                    Pay Now
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Payment Methods Management Modal -->
<div id="paymentMethodModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Payment Methods</h3>
            <button class="close-modal" id="showPaymentmethods" onclick="closePaymentMethodModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="saved-payment-methods">
                <h4>Saved Payment Methods</h4>
                
                <div class="saved-method">
                    <div class="method-info">
                        <i class="fas fa-credit-card"></i>
                        <div class="method-details">
                            <h5>•••• •••• •••• 1234</h5>
                            <span>Expires 12/26</span>
                        </div>
                    </div>
                    <div class="method-actions">
                        <button class="btn-set-default active">Default</button>
                        <button class="btn-remove">Remove</button>
                    </div>
                </div>

                <div class="saved-method">
                    <div class="method-info">
                        <i class="fab fa-paypal"></i>
                        <div class="method-details">
                            <h5>PayPal Account</h5>
                            <span>user@example.com</span>
                        </div>
                    </div>
                    <div class="method-actions">
                        <button class="btn-set-default">Set Default</button>
                        <button class="btn-remove">Remove</button>
                    </div>
                </div>
            </div>

            <div class="add-payment-methods">
                <h4>Add New Payment Method</h4>
                <div class="add-method-options">
                    <button class="add-method-btn" onclick="addNewCard()">
                        <i class="fas fa-plus"></i>
                        Add Credit/Debit Card
                    </button>
                    <button class="add-method-btn" onclick="addPayPal()">
                        <i class="fab fa-paypal"></i>
                        Connect PayPal
                    </button>
                </div>
            </div>

            <div class="payment-settings">
                <h4>Payment Settings</h4>
                <label class="checkbox-container">
                    <input type="checkbox" checked>
                    <span class="checkmark"></span>
                    Send payment confirmations via email
                </label>
                <label class="checkbox-container">
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    Auto-pay invoices using default payment method
                </label>
            </div>

            <div class="modal-actions">
                <button type="button" onclick="closePaymentMethodModal()" class="btn-cancel">Close</button>
                <button type="button" onclick="savePaymentSettings()" class="btn-submit">Save Settings</button>
            </div>
        </div>
    </div>
</div>

<!-- Payment Success Modal -->
<div id="paymentSuccessModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Payment Successful!</h3>
            <button class="close-modal" onclick="closePaymentSuccessModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="success-content">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h4>Your payment has been processed successfully</h4>
                <div class="payment-details">
                    <div class="detail-row">
                        <span>Transaction ID:</span>
                        <span id="transactionId">TXN-2025-123456</span>
                    </div>
                    <div class="detail-row">
                        <span>Payment Method:</span>
                        <span id="paymentMethod">•••• •••• •••• 1234</span>
                    </div>
                    <div class="detail-row">
                        <span>Amount Paid:</span>
                        <span id="paidAmount">$2,450.00</span>
                    </div>
                    <div class="detail-row">
                        <span>Date:</span>
                        <span id="paymentDate">December 1, 2025</span>
                    </div>
                </div>
                <div class="success-actions">
                    <button class="btn-download-receipt">
                        <i class="fas fa-download"></i>
                        Download Receipt
                    </button>
                    <button class="btn-email-receipt">
                        <i class="fas fa-envelope"></i>
                        Email Receipt
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Payment Modal Styles */
.payment-summary {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 25px;
}

.summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.summary-item:last-child {
    margin-bottom: 0;
}

.summary-item .amount {
    font-size: 1.5rem;
    font-weight: 700;
    color: #2c3e50;
}

.payment-methods-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    border-bottom: 1px solid #e9ecef;
}

.payment-tab {
    flex: 1;
    padding: 15px;
    border: none;
    background: transparent;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.3s ease;
    color: #666;
}

.payment-tab.active {
    color: #667eea;
    border-bottom-color: #667eea;
    background: rgba(102, 126, 234, 0.1);
}

.payment-tab:hover:not(.active) {
    background: #f8f9fa;
}

.payment-form {
    display: none;
}

.payment-form.active {
    display: block;
}

.paypal-info {
    text-align: center;
    padding: 30px;
}

.paypal-logo {
    margin-bottom: 20px;
}

.paypal-info p {
    margin-bottom: 25px;
    color: #666;
}

.paypal-benefits {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 300px;
    margin: 0 auto;
}

.benefit-item {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #0070ba;
}

.bank-transfer-info h4 {
    color: #2c3e50;
    margin-bottom: 20px;
}

.bank-details {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.bank-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #e9ecef;
}

.bank-item:last-child {
    border-bottom: none;
}

.bank-item .label {
    font-weight: 600;
    color: #2c3e50;
}

.bank-item .value {
    font-family: monospace;
    color: #667eea;
    font-weight: 600;
}

.btn-copy {
    background: #667eea;
    color: white;
    border: none;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: background 0.3s ease;
}

.btn-copy:hover {
    background: #764ba2;
}

.transfer-note {
    display: flex;
    gap: 10px;
    padding: 15px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 8px;
    color: #667eea;
}

.transfer-note i {
    margin-top: 2px;
}

.transfer-note p {
    margin: 0;
    font-size: 0.9rem;
}

/* Payment Methods Management Styles */
.saved-payment-methods, .add-payment-methods, .payment-settings {
    margin-bottom: 30px;
}

.saved-payment-methods h4, .add-payment-methods h4, .payment-settings h4 {
    color: #2c3e50;
    margin-bottom: 15px;
}

.saved-method {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 1px solid #e9ecef;
    border-radius: 10px;
    margin-bottom: 10px;
}

.method-info {
    display: flex;
    align-items: center;
    gap: 15px;
}

.method-info i {
    font-size: 1.5rem;
    color: #667eea;
}

.method-details h5 {
    margin: 0 0 5px 0;
    color: #2c3e50;
}

.method-details span {
    color: #666;
    font-size: 0.9rem;
}

.method-actions {
    display: flex;
    gap: 10px;
}

.btn-set-default, .btn-remove {
    padding: 6px 12px;
    border: 1px solid #e9ecef;
    background: white;
    color: #666;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.3s ease;
}

.btn-set-default.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

.btn-remove {
    color: #e74c3c;
    border-color: #e74c3c;
}

.btn-remove:hover {
    background: #e74c3c;
    color: white;
}

.add-method-options {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.add-method-btn {
    flex: 1;
    min-width: 200px;
    padding: 15px;
    border: 2px dashed #e9ecef;
    background: transparent;
    color: #667eea;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.3s ease;
}

.add-method-btn:hover {
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.1);
}

/* Payment Success Modal Styles */
.success-content {
    text-align: center;
    padding: 20px;
}

.success-icon {
    margin-bottom: 20px;
}

.success-icon i {
    font-size: 4rem;
    color: #27ae60;
}

.success-content h4 {
    color: #2c3e50;
    margin-bottom: 25px;
}

.payment-details {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 25px;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.detail-row:last-child {
    margin-bottom: 0;
}

.detail-row span:first-child {
    color: #666;
}

.detail-row span:last-child {
    font-weight: 600;
    color: #2c3e50;
}

.success-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-download-receipt, .btn-email-receipt {
    padding: 12px 20px;
    border: 2px solid #667eea;
    background: transparent;
    color: #667eea;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.btn-download-receipt:hover, .btn-email-receipt:hover {
    background: #667eea;
    color: white;
}

/* Responsive Design for Payment Modals */
@media (max-width: 768px) {
    .payment-methods-tabs {
        flex-direction: column;
        gap: 5px;
    }
    
    .payment-tab {
        border-bottom: none;
        border-left: 3px solid transparent;
    }
    
    .payment-tab.active {
        border-left-color: #667eea;
        border-bottom: none;
    }
    
    .add-method-options {
        flex-direction: column;
    }
    
    .add-method-btn {
        min-width: unset;
    }
    
    .success-actions {
        flex-direction: column;
    }
    
    .bank-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
}
</style>



<!-- payment code ends here -->

    <script>
        // Payment Integration JavaScript
        
        // Payment modal management
        function openPayInvoiceModal(invoiceId, amount) {
            const modal = document.getElementById('payInvoiceModal');
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('show'), 10);
            
            // Update modal with invoice details
            if (invoiceId && amount) {
                document.getElementById('invoiceTitle').textContent = invoiceId;
                document.getElementById('totalAmount').textContent = amount;
                document.querySelector('.btn-pay-now').innerHTML = `<i class="fas fa-lock"></i> Pay ${amount}`;
            }
        }

        function closePayInvoiceModal() {
            const modal = document.getElementById('payInvoiceModal');
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        function openPaymentMethodModal() {
            const modal = document.getElementById('paymentMethodModal');
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function closePaymentMethodModal() {
            const modal = document.getElementById('paymentMethodModal');
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        function closePaymentSuccessModal() {
            const modal = document.getElementById('paymentSuccessModal');
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
            
            // Update the invoice status in the billing section
            updateInvoiceStatus();
        }

        // Payment method selection
        function showPaymentMethod(method) {
            // Update active tab
            document.querySelectorAll('.payment-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show corresponding form
            document.querySelectorAll('.payment-form').forEach(form => form.classList.remove('active'));
            document.getElementById(method + 'Payment').classList.add('active');
        }

        // Card number formatting
        document.addEventListener('DOMContentLoaded', function() {
            const cardNumberInput = document.getElementById('cardNumber');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function() {
                    let value = this.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                    let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                    if (formattedValue !== this.value) {
                        this.value = formattedValue;
                    }
                });
            }

            // Expiry date formatting
            const expiryInput = document.getElementById('expiryDate');
            if (expiryInput) {
                expiryInput.addEventListener('input', function() {
                    let value = this.value.replace(/\D/g, '');
                    if (value.length >= 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2, 4);
                    }
                    this.value = value;
                });
            }

            // CVV validation
            const cvvInput = document.getElementById('cvv');
            if (cvvInput) {
                cvvInput.addEventListener('input', function() {
                    this.value = this.value.replace(/[^0-9]/g, '');
                });
            }
        });

        // Process payment function
        function processPayment() {
            const activePaymentForm = document.querySelector('.payment-form.active');
            const paymentMethod = activePaymentForm.id;
            
            // Show loading state
            const payButton = document.querySelector('.btn-pay-now');
            const originalText = payButton.innerHTML;
            payButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            payButton.disabled = true;

            // Simulate payment processing
            setTimeout(() => {
                if (paymentMethod === 'cardPayment') {
                    processCardPayment();
                } else if (paymentMethod === 'paypalPayment') {
                    processPayPalPayment();
                } else if (paymentMethod === 'bankPayment') {
                    processBankTransfer();
                }
                
                // Reset button
                payButton.innerHTML = originalText;
                payButton.disabled = false;
            }, 2000);
        }

        function processCardPayment() {
            const cardNumber = document.getElementById('cardNumber').value;
            const expiryDate = document.getElementById('expiryDate').value;
            const cvv = document.getElementById('cvv').value;
            const cardholderName = document.getElementById('cardholderName').value;

            // Basic validation
            if (!cardNumber || !expiryDate || !cvv || !cardholderName) {
                alert('Please fill in all card details.');
                return;
            }

            if (cardNumber.replace(/\s/g, '').length < 13) {
                alert('Please enter a valid card number.');
                return;
            }

            // Simulate successful payment
            showPaymentSuccess('•••• •••• •••• ' + cardNumber.slice(-4), 'Credit Card');
        }

        function processPayPalPayment() {
            // In a real implementation, this would redirect to PayPal
            alert('Redirecting to PayPal...');
            // Simulate PayPal success
            setTimeout(() => {
                showPaymentSuccess('PayPal', 'PayPal');
            }, 1000);
        }

        function processBankTransfer() {
            alert('Bank transfer details have been provided. Please complete the transfer using your banking app or website.');
            closePayInvoiceModal();
            
            // Update invoice status to "Pending Payment"
            const invoiceItems = document.querySelectorAll('.invoice-item');
            invoiceItems[0].querySelector('.invoice-status').textContent = 'Awaiting Transfer';
            invoiceItems[0].querySelector('.invoice-status').className = 'invoice-status pending';
        }

        function showPaymentSuccess(paymentMethod, methodType) {
            // Close payment modal
            closePayInvoiceModal();
            
            // Update success modal details
            const transactionId = 'TXN-' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 1000000);
            const currentDate = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('transactionId').textContent = transactionId;
            document.getElementById('paymentMethod').textContent = paymentMethod;
            document.getElementById('paymentDate').textContent = currentDate;
            
            // Show success modal
            const successModal = document.getElementById('paymentSuccessModal');
            successModal.style.display = 'flex';
            setTimeout(() => successModal.classList.add('show'), 10);
        }

        function updateInvoiceStatus() {
            // Update the invoice status to paid in the billing section
            const invoiceItems = document.querySelectorAll('.invoice-item');
            if (invoiceItems.length > 0) {
                const firstInvoice = invoiceItems[0];
                firstInvoice.querySelector('.invoice-status').textContent = 'Paid';
                firstInvoice.querySelector('.invoice-status').className = 'invoice-status paid';
                
                // Update action buttons
                const actionContainer = firstInvoice.querySelector('.invoice-actions');
                actionContainer.innerHTML = `
                    <button class="btn-view">View</button>
                    <button class="btn-receipt">Receipt</button>
                `;
            }
        }

        // Copy to clipboard functionality
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // Show temporary feedback
                event.target.textContent = 'Copied!';
                setTimeout(() => {
                    event.target.textContent = 'Copy';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                alert('Failed to copy to clipboard');
            });
        }

        // Payment method management
        function addNewCard() {
            // In a real implementation, this would open a form to add a new card
            alert('This would open a secure form to add a new credit/debit card.');
        }

        function addPayPal() {
            // In a real implementation, this would initiate PayPal connection
            alert('This would redirect to PayPal to connect your account.');
        }

        function savePaymentSettings() {
            alert('Payment settings saved successfully!');
            closePaymentMethodModal();
        }

        // Event listeners for payment buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers to payment buttons in billing section
            const payButtons = document.querySelectorAll('.btn-pay, .btn-pay-now');
            payButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const invoiceItem = this.closest('.invoice-item');
                    if (invoiceItem) {
                        const invoiceId = invoiceItem.querySelector('h4').textContent;
                        const amount = invoiceItem.querySelector('.invoice-amount').textContent;
                        openPayInvoiceModal(invoiceId, amount);
                    } else {
                        openPayInvoiceModal();
                    }
                });
            });

            // Add click handler to Payment Methods button
            const paymentMethodButton = document.querySelector('.section-header .btn-primary');
            if (paymentMethodButton && paymentMethodButton.textContent.includes('Payment Methods')) {
                paymentMethodButton.addEventListener('click', openPaymentMethodModal);
            }

            // Add click handlers to download receipt buttons
            document.querySelectorAll('.btn-download-receipt').forEach(button => {
                button.addEventListener('click', function() {
                    // In a real implementation, this would generate and download a PDF receipt
                    alert('Receipt download would start here. This would generate a PDF with payment details.');
                });
            });

            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    if (e.target.id === 'payInvoiceModal') closePayInvoiceModal();
                    if (e.target.id === 'paymentMethodModal') closePaymentMethodModal();
                    if (e.target.id === 'paymentSuccessModal') closePaymentSuccessModal();
                }
            });

            // Handle saved payment method actions
            document.querySelectorAll('.btn-set-default').forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all default buttons
                    document.querySelectorAll('.btn-set-default').forEach(btn => {
                        btn.classList.remove('active');
                        btn.textContent = 'Set Default';
                    });
                    
                    // Set this one as active
                    this.classList.add('active');
                    this.textContent = 'Default';
                });
            });

            document.querySelectorAll('.btn-remove').forEach(button => {
                button.addEventListener('click', function() {
                    if (confirm('Are you sure you want to remove this payment method?')) {
                        this.closest('.saved-method').remove();
                    }
                });
            });
        });

        // Stripe Integration (for real implementation)
        // This would require Stripe's JavaScript library
        /*
        function initializeStripe() {
            // This would be for actual Stripe integration
            const stripe = Stripe('pk_test_your_publishable_key_here');
            const elements = stripe.elements();
            
            const cardElement = elements.create('card', {
                style: {
                    base: {
                        fontSize: '16px',
                        color: '#424770',
                        '::placeholder': {
                            color: '#aab7c4',
                        },
                    },
                },
            });
            
            cardElement.mount('#card-element');
            
            // Handle form submission
            const form = document.getElementById('payment-form');
            form.addEventListener('submit', async (event) => {
                event.preventDefault();
                
                const {token, error} = await stripe.createToken(cardElement);
                
                if (error) {
                    console.error('Error:', error);
                } else {
                    // Send token to your server
                    console.log('Token:', token);
                    submitTokenToServer(token);
                }
            });
        }
        
        function submitTokenToServer(token) {
            // Send token to your backend server
            fetch('/process-payment', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    token: token.id,
                    amount: 245000, // Amount in cents
                    currency: 'usd',
                    description: 'Invoice payment'
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showPaymentSuccess();
                } else {
                    alert('Payment failed: ' + data.error);
                }
            });
        }
        */

        // PayPal Integration (for real implementation)
        /*
        function initializePayPal() {
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '2450.00'
                            }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        showPaymentSuccess('PayPal', 'PayPal');
                    });
                }
            }).render('#paypal-button-container');
        }
        */
        function showLogin() {
            document.getElementById('loginForm').style.display = 'flex';
            document.getElementById('signupForm').style.display = 'none';
            document.querySelector('.tab-btn').classList.add('active');
            document.querySelectorAll('.tab-btn')[1].classList.remove('active');
        }

        function showSignup() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'flex';
            document.querySelector('.tab-btn').classList.remove('active');
            document.querySelectorAll('.tab-btn')[1].classList.add('active');
        }

        // Navigation functionality
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked nav item
            document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
        }

        // // Login form submission
        // document.getElementById('loginForm').addEventListener('submit', function(e) {
        //     e.preventDefault();
        //     const username = document.getElementById('loginUsername').value;
        //     const password = document.getElementById('loginPassword').value;
            
        //     // Simple demo authentication
        //     if (username === 'admin' && password === 'admin') {
        //         document.getElementById('loginScreen').style.display = 'none';
        //         document.getElementById('portalScreen').style.display = 'block';
        //         document.getElementById('portalScreen').classList.add('fade-in');
        //     } else {
        //         alert('Invalid credentials. Please use admin/admin for demo.');
        //     }
        // });

        // // Signup form submission
        // document.getElementById('signupForm').addEventListener('submit', function(e) {
        //     e.preventDefault();
        //     alert('Sign up functionality would be implemented with backend integration.');
        // });

        // Navigation click handlers
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('data-section');
                showSection(sectionId);
            });
        });

        // Service request modal functionality
        function openServiceRequest() {
            const modal = document.getElementById('serviceRequestModal');
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }

        function closeServiceRequest() {
            const modal = document.getElementById('serviceRequestModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Service request form submission
        document.getElementById('serviceRequestForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Service request submitted successfully! We will contact you within 24 hours.');
            closeServiceRequest();
        });

        // FAQ functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function() {
                const faqItem = this.parentElement;
                faqItem.classList.toggle('active');
            });
        });

        // Document category filtering
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active button
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Filter documents
                const category = this.getAttribute('data-category');
                const documents = document.querySelectorAll('.document-item-enhanced');
                
                documents.forEach(doc => {
                    if (category === 'all' || doc.getAttribute('data-category') === category) {
                        doc.style.display = 'flex';
                    } else {
                        doc.style.display = 'none';
                    }
                });
            });
        });

        // Schedule consultation
        function scheduleConsultation() {
            alert('Consultation scheduling would open a calendar integration.');
        }

        // Start live chat
        function startLiveChat() {
            alert('Live chat would connect to your support system.');
        }

        // Logout functionality
        function logout() {
            document.getElementById('portalScreen').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('loginScreen').classList.add('fade-in');
            // Clear form data
            document.getElementById('loginUsername').value = '';
            document.getElementById('loginPassword').value = '';
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeServiceRequest();
            }
        });

        // Message input functionality
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        document.querySelector('.send-btn').addEventListener('click', sendMessage);

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                // Add sent message to thread
                const messageThread = document.querySelector('.message-thread');
                const messageHTML = `
                    <div class="message-bubble sent">
                        <div class="message-content">
                            <p>${message}</p>
                        </div>
                        <span class="message-timestamp">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
                    </div>
                `;
                messageThread.insertAdjacentHTML('beforeend', messageHTML);
                
                // Clear input
                input.value = '';
                
                // Scroll to bottom
                messageThread.scrollTop = messageThread.scrollHeight;
            }
        }

        // Search functionality
        document.querySelectorAll('.search-box input').forEach(searchInput => {
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const section = this.closest('.content-section');
                
                // This would implement search within the current section
                console.log('Searching for:', searchTerm, 'in section:', section.id);
            });
        });

        // Initialize portal
        document.addEventListener('DOMContentLoaded', function() {
            // Add loading animation to cards
            const cards = document.querySelectorAll('.stat-card, .service-card, .project-card-enhanced');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('slide-in');
                }, index * 100);
            });
        });
    </script>

<script src="stk-push.js"></script>    

<!-- MPESA CSS -->
<style>
/* M-Pesa Styles */
.mpesa-info {
    text-align: center;
    padding: 20px;
}

.mpesa-logo {
    margin-bottom: 20px;
}

.mpesa-details {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    text-align: left;
}

.mpesa-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #e9ecef;
}

.mpesa-item:last-child {
    border-bottom: none;
}

.mpesa-instructions {
    text-align: left;
    background: #e8f5e8;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 15px;
}

.mpesa-instructions h5 {
    color: #00a651;
    margin-bottom: 10px;
}

.mpesa-instructions ol {
    margin-left: 20px;
    line-height: 1.6;
}

.mpesa-instructions li {
    margin-bottom: 5px;
    color: #333;
}

.mpesa-note {
    display: flex;
    gap: 10px;
    padding: 15px;
    background: rgba(0, 166, 81, 0.1);
    border-radius: 8px;
    color: #00a651;
    text-align: left;
}

/* Amount Input Styles */
.amount-input-group {
    position: relative;
    display: flex;
    align-items: center;
}

.currency-symbol {
    position: absolute;
    left: 15px;
    color: #667eea;
    font-weight: bold;
    z-index: 10;
}

.amount-input-group input {
    padding-left: 35px !important;
    padding-right: 120px !important;
}

.remaining-balance {
    position: absolute;
    right: 15px;
    font-size: 0.8rem;
    color: #666;
    background: #f8f9fa;
    padding: 2px 8px;
    border-radius: 4px;
}

</style>

<script>
    // Payment form visibility toggle
function showPaymentForm() {
    const paymentFormSection = document.getElementById('paymentFormSection');
    const showPaymentBtn = document.getElementById('showPaymentFormBtn');
    
    if (paymentFormSection.style.display === 'none' || paymentFormSection.style.display === '') {
        paymentFormSection.style.display = 'block';
        paymentFormSection.classList.add('slide-in');
        showPaymentBtn.innerHTML = '<i class="fas fa-times"></i> Hide Payment Form';
    } else {
        paymentFormSection.style.display = 'none';
        showPaymentBtn.innerHTML = '<i class="fas fa-credit-card"></i> Make Payment';
    }
}

// Updated DOMContentLoaded event listener
document.addEventListener('DOMContentLoaded', function() {
    // Payment form button handler
    const showPaymentFormBtn = document.getElementById('showPaymentFormBtn');
    if (showPaymentFormBtn) {
        showPaymentFormBtn.addEventListener('click', showPaymentForm);
    }

    // Rest of your existing code...
});

document.addEventListener('DOMContentLoaded', function () {
    const paymentMethodButton = document.getElementById('paymentMethodsBtn');
    if (paymentMethodButton) {
        paymentMethodButton.addEventListener('click', openPaymentMethodModal);
    }
});



</script>




























<!-- PROFILE SECTION FOR BRITECH -->



<!-- Email JS Below -->



<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script src="emailJS.js"></script>

</body>
</html>